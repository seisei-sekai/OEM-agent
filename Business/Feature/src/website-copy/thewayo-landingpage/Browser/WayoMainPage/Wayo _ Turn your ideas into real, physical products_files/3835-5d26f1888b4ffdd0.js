"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3835],{43835:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(7653),i=r(92666),a=r(10363);let u=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),s={dedupe:!0};a.$l.defineProperty(a.J$,"defaultValue",{value:a.u_});let l=(0,a.s6)((e,t,r)=>{let{cache:l,compare:o,suspense:d,fallbackData:c,revalidateOnMount:f,revalidateIfStale:g,refreshInterval:E,refreshWhenHidden:R,refreshWhenOffline:V,keepPreviousData:T}=r,[_,L,h,v]=a.DY.get(l),[w,k]=(0,a.qC)(e),O=(0,n.useRef)(!1),b=(0,n.useRef)(!1),p=(0,n.useRef)(w),C=(0,n.useRef)(t),N=(0,n.useRef)(r),m=()=>N.current,D=()=>m().isVisible()&&m().isOnline(),[I,S,j,y]=(0,a.JN)(l,w),P=(0,n.useRef)({}).current,A=(0,a.o8)(c)?r.fallback[w]:c,F=(e,t)=>{for(let r in P)if("data"===r){if(!o(e[r],t[r])&&(!(0,a.o8)(e[r])||!o(Y,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},M=(0,n.useMemo)(()=>{let e=!!w&&!!t&&((0,a.o8)(f)?!m().isPaused()&&!d&&(!!(0,a.o8)(g)||g):f),r=t=>{let r=(0,a.PM)(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=I(),i=y(),u=r(n),s=n===i?u:r(i),l=u;return[()=>{let e=r(I());return F(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>s]},[l,w]),q=(0,i.useSyncExternalStore)((0,n.useCallback)(e=>j(w,(t,r)=>{F(r,t)||e()}),[l,w]),M[0],M[1]),x=!O.current,J=_[w]&&_[w].length>0,U=q.data,W=(0,a.o8)(U)?A:U,$=q.error,B=(0,n.useRef)(W),Y=T?(0,a.o8)(U)?B.current:U:W,Z=(!J||!!(0,a.o8)($))&&(x&&!(0,a.o8)(f)?f:!m().isPaused()&&(d?!(0,a.o8)(W)&&g:(0,a.o8)(W)||g)),z=!!(w&&t&&x&&Z),G=(0,a.o8)(q.isValidating)?z:q.isValidating,H=(0,a.o8)(q.isLoading)?z:q.isLoading,K=(0,n.useCallback)(async e=>{let t,n;let i=C.current;if(!w||!i||b.current||m().isPaused())return!1;let u=!0,s=e||{},l=!h[w]||!s.dedupe,d=()=>a.w6?!b.current&&w===p.current&&O.current:w===p.current,c={isValidating:!1,isLoading:!1},f=()=>{S(c)},g=()=>{let e=h[w];e&&e[1]===n&&delete h[w]},E={isValidating:!0};(0,a.o8)(I().data)&&(E.isLoading=!0);try{if(l&&(S(E),r.loadingTimeout&&(0,a.o8)(I().data)&&setTimeout(()=>{u&&d()&&m().onLoadingSlow(w,r)},r.loadingTimeout),h[w]=[i(k),(0,a.u3)()]),[t,n]=h[w],t=await t,l&&setTimeout(g,r.dedupingInterval),!h[w]||h[w][1]!==n)return l&&d()&&m().onDiscarded(w),!1;c.error=a.i_;let e=L[w];if(!(0,a.o8)(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return f(),l&&d()&&m().onDiscarded(w),!1;let s=I().data;c.data=o(s,t)?s:t,l&&d()&&m().onSuccess(t,w,r)}catch(r){g();let e=m(),{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,l&&d()&&(e.onError(r,w,e),(!0===t||(0,a.mf)(t)&&t(r))&&(!m().revalidateOnFocus||!m().revalidateOnReconnect||D())&&e.onErrorRetry(r,w,e,e=>{let t=_[w];t&&t[0]&&t[0](a.sj.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return u=!1,f(),!0},[w,l]),Q=(0,n.useCallback)((...e)=>(0,a.BN)(l,p.current,...e),[]);if((0,a.LI)(()=>{C.current=t,N.current=r,(0,a.o8)(U)||(B.current=U)}),(0,a.LI)(()=>{if(!w)return;let e=K.bind(a.i_,s),t=0,r=(0,a.ko)(w,_,(r,n={})=>{if(r==a.sj.FOCUS_EVENT){let r=Date.now();m().revalidateOnFocus&&r>t&&D()&&(t=r+m().focusThrottleInterval,e())}else if(r==a.sj.RECONNECT_EVENT)m().revalidateOnReconnect&&D()&&e();else if(r==a.sj.MUTATE_EVENT)return K();else if(r==a.sj.ERROR_REVALIDATE_EVENT)return K(n)});return b.current=!1,p.current=w,O.current=!0,S({_k:k}),Z&&((0,a.o8)(W)||a.W6?e():(0,a.kw)(e)),()=>{b.current=!0,r()}},[w]),(0,a.LI)(()=>{let e;function t(){let t=(0,a.mf)(E)?E(I().data):E;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!I().error&&(R||m().isVisible())&&(V||m().isOnline())?K(s).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[E,R,V,w]),(0,n.useDebugValue)(Y),d&&(0,a.o8)(W)&&w){if(!a.w6&&a.W6)throw Error("Fallback data is required when using suspense in SSR.");C.current=t,N.current=r,b.current=!1;let e=v[w];if((0,a.o8)(e)||u(Q(e)),(0,a.o8)($)){let e=K(s);(0,a.o8)(Y)||(e.status="fulfilled",e.value=!0),u(e)}else throw $}return{mutate:Q,get data(){return P.data=!0,Y},get error(){return P.error=!0,$},get isValidating(){return P.isValidating=!0,G},get isLoading(){return P.isLoading=!0,H}}}),o=(0,a.xD)(l,e=>(t,r,n)=>(n.revalidateOnFocus=!1,n.revalidateIfStale=!1,n.revalidateOnReconnect=!1,e(t,r,n)))}}]);