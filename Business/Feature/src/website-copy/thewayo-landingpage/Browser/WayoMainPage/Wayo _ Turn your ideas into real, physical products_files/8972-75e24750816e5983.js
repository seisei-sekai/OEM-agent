(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8972,197],{1866:function(e,t,n){"use strict";n.d(t,{I:function(){return p},R0:function(){return c},R5:function(){return m},Zt:function(){return s},hc:function(){return u},i5:function(){return o},oi:function(){return d},s2:function(){return a}});var i=n(16287),r=n(2960),l=n(47409);let o=async e=>{let t="/client/orders/client_order/list?".concat((0,l.FJ)(e));return(0,i.G0)(t)},s=async()=>(0,i.G0)("/client/orders/client_order/unpaid_count"),a=async e=>(0,i.G0)("/client/orders/client_order/detail?order_id=".concat(e)),c=async e=>(0,r.XU)({objectId:e,objectType:"client_order"}),u=async e=>(0,i.S6)("/client/orders/client_order/create",e),d=async e=>(0,i.S6)("/client/orders/client_order/cancel",e),m=e=>(0,i.S6)("/client/orders/client_order/batch_get",{order_ids:e}),p=async e=>(0,i.S6)("/client/orders/import_tax/bulk_evaluate",e).then(e=>e)},34507:function(e,t,n){"use strict";n.d(t,{Cg:function(){return u},S$:function(){return s},Xd:function(){return a},kS:function(){return c},wc:function(){return l},z8:function(){return o}});var i=n(16287),r=n(47409);let l=e=>(0,i.G0)("/client/invoices/invoice/list?".concat((0,r.FJ)(e))),o=e=>(0,i.G0)("/client/invoices/invoice/detail".concat(e?"?invoice_id=".concat(e):"")),s=e=>(0,i.G0)("/client/invoices/invoice/mget?".concat((0,r.FJ)({ids:e}))),a=e=>(0,i.S6)("/client/invoices/invoice/add_payment",e),c=e=>(0,i.G0)("/client/orders/client_order/invoice/list?order_id=".concat(e)),u=e=>(0,i.S6)("/client/invoices/invoice/update",e).then(e=>e.data)},99145:function(e,t,n){"use strict";n.d(t,{$Z:function(){return j},Be:function(){return M},Cu:function(){return I},DF:function(){return k},FU:function(){return h},Jq:function(){return N},RN:function(){return w},SM:function(){return E},Vr:function(){return y},aW:function(){return a},fo:function(){return v},gH:function(){return p},i2:function(){return b},ik:function(){return x},jJ:function(){return m},jn:function(){return d},jw:function(){return c},nm:function(){return _},oy:function(){return S},qO:function(){return L},uw:function(){return f},wQ:function(){return u},yM:function(){return C},z3:function(){return g}});var i=n(16287),r=n(18255),l=n.n(r),o=n(47409),s=n(19616);let a=async e=>(0,i.S6)("/client/products/price/evaluate",e),c=async e=>{let t="/client/products/spus/list?".concat((0,o.FJ)(e));return(0,i.G0)(t)},u=async e=>{let t="/client/products/spu/recommendation?".concat((0,o.FJ)(e));return(0,i.G0)(t)},d=async e=>{let t="/client/products/spus/detail?".concat((0,o.FJ)(e));return(0,i.G0)(t)};async function m(e){return(0,i.G0)("/client/products/sku/detail?project_id=".concat(e))}async function p(e){return(0,i.S6)("/client/products/price/calculate",e).then(e=>e.data)}async function f(e){return(0,i.S6)("/client/products/price/bulk_calculate",e).then(e=>e.data)}let h=async e=>{let t="/client/products/spu/custom_template?".concat((0,o.FJ)(e));return(0,i.G0)(t).then(e=>e.data)},x=async e=>(0,i.G0)("/client/products/sku/detail?id=".concat(e)).then(e=>e.data);async function g(e){return(0,i.S6)("/client/products/sku/custom_design/validate",e)}let v=async e=>(0,i.G0)("/client/products/spu/draft/detail?object_id=".concat(e));function j(e){return(0,i.S6)("/client/products/timeline/calculate",e).then(e=>{if(e.code)throw Error(e.message);return e.data})}function y(e){let t="/client/products/spu/preview_template/view/list?".concat((0,o.FJ)(e));return(0,i.G0)(t).then(e=>{if(e.code)throw Error(e.message);return e.data}).catch(()=>[])}async function _(e){return(0,i.S6)("/client/products/spu/preview",e)}async function w(e){return(0,i.S6)("/client/products/spu/draft/preview",e)}let b=async()=>(0,i.G0)("/client/products/pricing_assumption").then(e=>e.data),C=()=>(0,i.G0)("/client/products/pricing_assumption/list").then(e=>e.data),k=async e=>{let t=l().chunk(e,s.Ay);return(await Promise.all(t.map(async e=>{let t="/client/products/spus/mget?".concat((0,o.FJ)({ids:e}));return(0,i.G0)(t).then(e=>e.data)}))).flat()},N=async e=>(0,i.S6)("/client/products/spu/merch_line/preview",e).then(e=>e.data),M=async e=>{let t="/client/products/design/list?".concat((0,o.FJ)(e));return(0,i.G0)(t)};async function E(e){return(0,i.S6)("/client/products/product_design/create",e)}async function I(e){return(0,i.S6)("/client/products/product_design/update",e)}async function L(e){return(0,i.G0)("/client/products/product_design/detail?id=".concat(e))}let S=async e=>(0,i.S6)("/client/products/inventory/request",e)},81815:function(e,t,n){"use strict";n.d(t,{T:function(){return o},ku:function(){return l},sx:function(){return s}});var i=n(47409),r=n(16287);let l=async e=>{let t="/client/projects/project/list?".concat((0,i.FJ)(e));return r.ZP.get(t).then(e=>e.data)},o=async e=>r.ZP.get("/client/projects/project/detail?project_id=".concat(e)).then(e=>e.data),s=async e=>r.ZP.post("/client/projects/project/create",e).then(e=>e.data)},51998:function(e,t,n){"use strict";n.d(t,{Jy:function(){return s},nV:function(){return o},tP:function(){return a},ul:function(){return l}});var i=n(16287),r=n(47409);let l=e=>(0,i.G0)("/client/shipments/shipment/list?".concat((0,r.FJ)(e))),o=e=>(0,i.G0)("/client/shipments/shipment/detail?shipment_id=".concat(e)).then(e=>e.data),s=e=>{let{orderId:t,ids:n}=e;return(0,i.G0)("/client/shipments/shipment/detail/list?".concat((0,r.FJ)({client_order_id:t,ids:n})))},a=(e,t)=>(0,i.S6)("/client/shipments/available_shipping_methods",{address:e,source:t}).then(e=>e.data)},2960:function(e,t,n){"use strict";n.d(t,{XU:function(){return r},i6:function(){return o},xE:function(){return l}});var i=n(16287);let r=e=>{let{objectId:t="",objectType:n}=e;return(0,i.G0)("/client/snapshots/snapshot/list?object_id=".concat(t,"&object_type=").concat(n))},l=e=>(0,i.S6)("/client/snapshots/draft/set",e),o=e=>{let{object_id:t,object_type:n}=e;return(0,i.G0)("/client/snapshots/draft/get?object_id=".concat(t,"&object_type=").concat(n)).then(e=>e.data)}},15579:function(e,t,n){"use strict";n.d(t,{N:function(){return l},m:function(){return s}});var i=n(67754),r=n(44087);function l(e,t){if(!t)return null;for(let r of e){var n,i;if(r.key===t||r.value===t||(null==r?void 0:null===(n=r.key_records)||void 0===n?void 0:n.includes(t))||(null==r?void 0:null===(i=r.children)||void 0===i?void 0:i.length)&&l(r.children,t))return r}return null}function o(e,t){for(let r of e){var n,i;if(r.value===t||r.key===t||(null==r?void 0:null===(n=r.key_records)||void 0===n?void 0:n.includes(t)))return r;if(null==r?void 0:null===(i=r.children)||void 0===i?void 0:i.length){let e=o(r.children,t);if(e)return e}}return null}function s(){let{categoryList:e,collectionList:t}=(0,r.J0)(),{category:n}=(0,i.useParams)(),s=l(t,n);if(s){var a;return{category:s,subCategory:(null===(a=s.children)||void 0===a?void 0:a.find(e=>e.value===n))||null,currentCategory:o(t,n),type:"collection",categoryKey:n}}return{category:l(e,n),currentCategory:o(e,n),type:"category",categoryKey:n}}},44087:function(e,t,n){"use strict";n.d(t,{CategoryProvider:function(){return u},DT:function(){return f},J0:function(){return m},K:function(){return p},L3:function(){return d}});var i=n(27573),r=n(47313),l=n(7653),o=n(72108),s=n(15579);let[a,c]=(0,o.bo)();function u(e){let{children:t,data:n,collectionData:r}=e;return(0,i.jsx)(c.Provider,{value:{categoryTree:n||[],collectionData:r||{data:[],key:"",id:""}},children:t})}function d(){let{categoryTree:e,collectionData:t}=a();return{categoryTree:e,collectionData:t}}function m(){let{categoryTree:e,collectionData:t}=d(),n=(null==e?void 0:e.length)>0?r.SY.map(t=>({...(0,s.N)(e,t.value),...t})):r.SY;return{categoryList:[...n,...r._h],extraCategory:[],collectionList:[{...r.cU[0],children:f((null==t?void 0:t.data)||[])}],navCategoryList:n,subCategoryNavList:n.slice(1),tagsTree:r._h}}function p(){let{categoryList:e}=m(),{categoryTree:t}=d(),{category:n}=(0,s.m)();return{parseCategory:(0,l.useCallback)(t=>{if((null==n?void 0:n.value)&&n.value!==r.So)return n||{value:r.So};let i=e.find(e=>(function e(t,n){return!!t&&!!n&&((null==t?void 0:t.id)===n||!!Array.isArray(t.children)&&t.children.some(t=>e(t,n)))})(e,t));return i?{...i,value:i.value||(null==i?void 0:i.key)||r.So}:{value:r.So}},[e,n]),parseSecondCategory:(0,l.useCallback)(e=>{let n=function e(t,n){if(!Array.isArray(t)||!n)return null;for(let i of t){if(i.id===n)return[i];if(Array.isArray(i.children)){let t=e(i.children,n);if(t)return[i,...t]}}return null}(t,e),i=null==n?void 0:n[(null==n?void 0:n.length)-2];return i?{...i,value:(null==i?void 0:i.key)||r.So,deepItems:n}:{value:r.So,deepItems:n}},[t])}}function f(e){return null==e?void 0:e.map(e=>({...e,id:e.id,name:e.name,value:e.key,tag:e.key,key:e.key,key_records:[],seoTitle:e.name,seoDesc:e.name}))}},63847:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var i=n(34055),r=n(73362),l=n(60202);function o(e){let{invoiceOrders:t=[],orderIds:n,isUseInvoicePriceItems:o,currency:s}=function(e){var t,n,i;let l=(null==e?void 0:null===(t=e.object)||void 0===t?void 0:t.object_type)==="client_order_batch"?(null==e?void 0:e.object.orders)||[]:(null==e?void 0:e.object)?[null==e?void 0:e.object]:[],o=l.map(e=>e.id);return{invoiceOrders:l,orderIds:o,isUseInvoicePriceItems:null==e?void 0:null===(n=e.price_items)||void 0===n?void 0:n.every(e=>e.order_xid||e.item_id||r.aX.includes(e.type)),currency:null==e?void 0:null===(i=e.amount)||void 0===i?void 0:i.currency}}(e),{data:a}=(0,l.GN)(n),c=function(e){let{invoiceOrders:t,orderDetails:n}=e,i=null==n?void 0:n.flatMap(e=>(null==e?void 0:e.items)||[]),r=e=>{var t,r;let l=null==n?void 0:n.find(t=>{var n;return null===(n=t.items)||void 0===n?void 0:n.some(t=>t.id===e)}),o=null==i?void 0:i.find(t=>t.id===e);return{group_id:null==o?void 0:o.group_id,quantity:null==o?void 0:o.quantity,quantity_breakdown:null==o?void 0:o.quantity_breakdown,stock_variant:null==o?void 0:o.stock_variant,is_custom_design:null!==(r=null==o?void 0:o.is_custom_design)&&void 0!==r?r:null==l?void 0:l.is_custom_design,source_from:null==l?void 0:l.source_from,thumbnail:null==l?void 0:null===(t=l.attachment_map)||void 0===t?void 0:t[null==o?void 0:o.thumbnail]}};return null==t?void 0:t.reduce((e,t)=>{var n;return(null==t?void 0:null===(n=t.items)||void 0===n?void 0:n.length)?e.push(...t.items.map(e=>({...t,...e,client_order_id:t.id,order_type:e.product_type||t.order_type,item_id:e.id,...r(e.id)}))):e.push({...t,order_type:t.order_type,client_order_id:t.id,...r(t.id)}),e},[])}({invoiceOrders:t,orderDetails:null==a?void 0:a.data}),{orderPriceItemsData:u,orderSalesTaxItems:d,noProjectOrder:m,orderPaidAmount:p}=function(e){var t;let{orderDetails:n}=e,i=(null==n?void 0:n.reduce((e,t)=>{let n=(null==t?void 0:t.items)||[];return(null==n?void 0:n.length)?n.forEach(n=>e.push({...t,product:n,item_id:n.id,price_items:r.YS.sortPriceItems(t.price_items.filter(e=>e.item_id===n.id))})):e.push(t),e},[]))||[],l=null==n?void 0:n.flatMap(e=>(null==e?void 0:e.items)||[]);return{orderPriceItemsData:i,orderSalesTaxItems:(null==n?void 0:null===(t=n.map(e=>r.YS.getSalesTaxPriceItems(null==e?void 0:e.price_items)))||void 0===t?void 0:t.flat())||[],noProjectOrder:(null==l?void 0:l.length)&&!(null==l?void 0:l.some(e=>null==e?void 0:e.project_id)),orderPaidAmount:r.YS.sum(null==n?void 0:n.map(e=>{var t;return(null==e?void 0:null===(t=e.paid_amount)||void 0===t?void 0:t.amount)||0}))}}({orderDetails:null==a?void 0:a.data}),{priceItems:f,discountItems:h,salesTaxItems:x,productPriceItems:g}=o?function(e){var t,n,i;let{invoiceOrders:l,data:o,orderPriceItemsData:s}=e,a=r.YS.sortPriceItems((null==o?void 0:o.price_items)||[]);return{priceItems:a,discountItems:(null==l?void 0:null===(t=l.map(e=>e.discount_items||[]))||void 0===t?void 0:t.flat())||[],salesTaxItems:null==o?void 0:null===(n=o.price_items)||void 0===n?void 0:n.filter(e=>"sales_tax"===e.type),productPriceItems:null===(i=r.YS.getExcludeSaleTaxPriceItems(a))||void 0===i?void 0:i.reduce((e,t)=>{var n,i,r,l,o,a,c,u,d;let m=-1;if((m=t.item_id?e.findIndex(e=>e.item_id&&e.item_id===t.item_id):e.findIndex(e=>e.xid===t.order_xid))>-1)null===(i=e[m])||void 0===i||null===(n=i.price_items)||void 0===n||n.push(t);else{let n=(null==s?void 0:s.find(e=>e.item_id===t.item_id))||(null==s?void 0:s.find(e=>e.xid===t.order_xid));e.push({xid:null==n?void 0:n.xid,item_id:null==t?void 0:t.item_id,price_items:[t],is_custom_design:null!==(d=null==n?void 0:null===(r=n.product)||void 0===r?void 0:r.is_custom_design)&&void 0!==d?d:null==n?void 0:n.is_custom_design,is_digital_product:null==n?void 0:null===(l=n.product)||void 0===l?void 0:l.is_digital_product,source_from:null==n?void 0:n.source_from,thumbnail:null==n?void 0:null===(a=n.attachment_map)||void 0===a?void 0:a[null==n?void 0:null===(o=n.product)||void 0===o?void 0:o.thumbnail],quantity:(null==n?void 0:null===(c=n.product)||void 0===c?void 0:c.quantity)||0,quantity_breakdown:null==n?void 0:null===(u=n.product)||void 0===u?void 0:u.quantity_breakdown})}return e},[])}}({invoiceOrders:t,data:e,orderPriceItemsData:u}):function(e){var t;let{orderPriceItemsData:n,orderSalesTaxItems:i}=e;return{priceItems:(null==n?void 0:n.map(e=>null==e?void 0:e.price_items).flat())||[],discountItems:(null===(t=n.map(e=>e.discount_items||[]))||void 0===t?void 0:t.flat())||[],salesTaxItems:i,productPriceItems:n.map(e=>{var t,n;return{...e,thumbnail:null==e?void 0:null===(n=e.attachment_map)||void 0===n?void 0:n[null==e?void 0:null===(t=e.product)||void 0===t?void 0:t.thumbnail]}})}}({orderPriceItemsData:u,orderSalesTaxItems:d}),v=r.YS.sumExcludeSaleTaxPriceItems(f),j=(0,i.HU)(h),y=Number(j.reduce((e,t)=>e+t.total,0).toFixed(2)),_=r.YS.sumPriceItems(x),w=Number((v+_-y).toFixed(2));return{invoiceOrders:t,products:c,currency:s,discounts:j,productPriceItems:g,discountTotal:y,salesTax:_,paidAmount:null==e?void 0:e.paid_amount,subTotalAmount:v,totalAmount:w,invoiceType:null==e?void 0:e.invoice_type,status:null==e?void 0:e.status,amount:null==e?void 0:e.amount,noProjectOrder:m,orderPaidAmount:p,dutyTotal:m?0:r.YS.sumPriceItems(r.YS.getDutyPriceItems(f)),vatTotal:m?0:r.YS.sumPriceItems(r.YS.getVATPriceItems(f))}}},23009:function(e,t,n){"use strict";n.d(t,{ZP:function(){return h},$:function(){return f}});var i=n(27573),r=n(10191),l=n(7653),o=n(80733);function s(e){let{children:t,className:n,maskSize:r=32,direction:s="horizontal",fadeColor:a="rgb(255, 255, 255)",showScrollbar:c=!1,disabled:u=!1}=e,d=(0,l.useRef)(null),[m,p]=(0,l.useState)({left:!1,right:!1,top:!1,bottom:!1}),f=(0,l.useCallback)(()=>{if(!d.current)return;let e=d.current,t={left:!1,right:!1,top:!1,bottom:!1};"horizontal"===s?(t.left=e.scrollLeft>0,t.right=e.scrollLeft+e.clientWidth<e.scrollWidth):(t.top=e.scrollTop>0,t.bottom=e.scrollTop+e.clientHeight<e.scrollHeight),p(t)},[s]),h=(0,l.useRef)(),x=(0,l.useCallback)(()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(f,16)},[f]);(0,l.useEffect)(()=>{let e=d.current;if(!e)return;f(),e.addEventListener("scroll",x,{passive:!0});let t=new ResizeObserver(f);return t.observe(e),()=>{e.removeEventListener("scroll",x),t.disconnect(),h.current&&clearTimeout(h.current)}},[f,x]);let g=(0,l.useMemo)(()=>{let e={"--mask-size":"".concat(r,"px"),"--fade-color":a};if(u)return e;if("horizontal"===s){let t=[],n=[],i=[];m.left&&(t.push("linear-gradient(to right, transparent, var(--fade-color) var(--mask-size))"),n.push("var(--mask-size) 100%"),i.push("0 0")),m.right&&(t.push("linear-gradient(to left, transparent, var(--fade-color) var(--mask-size))"),n.push("var(--mask-size) 100%"),i.push("100% 0"));let r=m.left?"var(--mask-size)":"0px",l=m.right?"var(--mask-size)":"0px";t.push("linear-gradient(var(--fade-color), var(--fade-color))"),n.push("calc(100% - ".concat(r," - ").concat(l,") 100%")),i.push("".concat(r," 0")),t.length>0&&(e.maskImage=t.join(", "),e.WebkitMaskImage=t.join(", "),e.maskSize=n.join(", "),e.WebkitMaskSize=n.join(", "),e.maskPosition=i.join(", "),e.WebkitMaskPosition=i.join(", "),e.maskRepeat="no-repeat",e.WebkitMaskRepeat="no-repeat")}else if("vertical"===s){let t=[],n=[],i=[];m.top&&(t.push("linear-gradient(to bottom, transparent, var(--fade-color) var(--mask-size))"),n.push("100% var(--mask-size)"),i.push("0 0")),m.bottom&&(t.push("linear-gradient(to top, transparent, var(--fade-color) var(--mask-size))"),n.push("100% var(--mask-size)"),i.push("0 100%"));let r=m.top?"var(--mask-size)":"0px",l=m.bottom?"var(--mask-size)":"0px";t.push("linear-gradient(var(--fade-color), var(--fade-color))"),n.push("100% calc(100% - ".concat(r," - ").concat(l,")")),i.push("0 ".concat(r)),t.length>0&&(e.maskImage=t.join(", "),e.WebkitMaskImage=t.join(", "),e.maskSize=n.join(", "),e.WebkitMaskSize=n.join(", "),e.maskPosition=i.join(", "),e.WebkitMaskPosition=i.join(", "),e.maskRepeat="no-repeat",e.WebkitMaskRepeat="no-repeat")}return e},[m,r,a,s,u]),v="horizontal"===s?"overflow-x-auto":"overflow-y-auto";return(0,i.jsx)("div",{ref:d,className:(0,o.cn)("relative",v,c?"":"[-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",n),style:g,children:t})}var a=n(99510),c=n(99268),u=n(49784),d=n(2216),m=n(60052),p=n(16727);let f=10485760;function h(e){var t;let{onSendMessage:n,disabled:s=!1,placeholder:a="Say anything...",className:h}=e,g=(0,l.useRef)(null),v=(0,l.useRef)(null),[j,y]=(0,l.useState)(!1),{currentChatId:_}=(0,p.E)(),{getSession:w,addAttachmentToSession:b,removeAttachmentFromSession:C,updateSessionInputMessages:k,updateSessionAttachments:N,updateAttachmentState:M}=(0,p.E)(),E=w(_),I=null!==(t=null==E?void 0:E.attachments)&&void 0!==t?t:[],L=I.length,S=(null==E?void 0:E.inputMessages)||"",B=(0,l.useCallback)(()=>{N(_,[])},[N,_]),D=(0,l.useCallback)(e=>{C(_,e)},[C,_]),U=(0,l.useCallback)(e=>{k(_,e)},[k,_]),A=(S.trim()||I.length>0)&&I.every(e=>"successful"===e.status)&&!s,F=()=>{A&&(n({content:S.trim(),attachments:I}),U(""),B())};(0,l.useEffect)(()=>{let e=v.current;if(!e)return;e.style.height="auto";let t=Math.min(e.scrollHeight,51);e.style.height="".concat(t,"px")},[S]);let P=(0,l.useCallback)(async e=>{var t;let n=(0,c.Vj)(),i=e.type||"application/octet-stream",l=i.split("/")[1],o=e.name&&e.name.trim().length>0?e.name:"".concat(n,".").concat(l||"file");b(_,{nanoId:n,status:"uploading",filename:o,mime_type:i,file:e});let s=await (0,r.OE)({title:null===(t=o.split("."))||void 0===t?void 0:t[0],filename:o,description:"",type:"spu_edit_template_image_featured",is_internal:!1,mime_type:i,file:e},e=>{e<100&&M(_,n,{status:"uploading",progress:e})});M(_,n,{status:"successful",progress:100,...s})},[b,_,M]),z=(0,l.useCallback)(e=>{if(!e.length)return;let t=3-L;if(t<=0){u.ZP.error("You can only upload up to ".concat(3," files. Please remove existing files first."));return}let n=e.slice(0,t);if(e.length>t&&u.ZP.error("You can only upload ".concat(t," more file").concat(t>1?"s":"",". Only the first ").concat(t," file").concat(t>1?"s":""," will be uploaded.")),n.find(e=>f&&e.size>f)){u.ZP.error("The file you've uploaded is too large. Please upload a smaller file (under ".concat(Math.floor(f/1024/1024),"MB). "));return}n.forEach(e=>{P(e)})},[L,P]),T=(0,l.useCallback)(e=>{var t;let n=Array.from((null===(t=e.clipboardData)||void 0===t?void 0:t.files)||[]).filter(e=>(0,m.CO)(e.type));n.length&&(e.preventDefault(),z(n))},[z]);return(0,i.jsxs)(d.kC,{className:(0,o.cn)("mx-auto flex items-center gap-y-3 rounded-[1.75rem] border border-[#e0e0e0] bg-white px-4 py-4",h),flexDirection:"column",children:[(0,i.jsx)(x,{attachments:I,removeAttachment:D}),(0,i.jsxs)(d.kC,{className:"w-full items-start",children:[(0,i.jsx)("div",{className:"flex items-center justify-end",children:(0,i.jsx)("button",{onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},disabled:s||L>=3,className:"relative flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full text-[#0b0b0b] hover:bg-[#ededed] disabled:cursor-not-allowed disabled:text-[#0B0B0B4D]",children:(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M3.33325 13.3333L3.33325 14.1666C3.33325 15.5473 4.45254 16.6666 5.83325 16.6666L14.1666 16.6666C15.5473 16.6666 16.6666 15.5473 16.6666 14.1666L16.6666 13.3333M13.3333 6.66663L9.99992 3.33329M9.99992 3.33329L6.66659 6.66663M9.99992 3.33329L9.99992 13.3333",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,i.jsx)("input",{ref:g,type:"file",multiple:!0,className:"hidden",accept:m.zY,onChange:e=>{z(Array.from(e.target.files||[])),e.target.value=""}}),(0,i.jsx)("div",{className:"mx-2 flex-1",children:(0,i.jsx)("form",{children:(0,i.jsx)(d.Kx,{ref:v,value:S,onChange:e=>U(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||j||(e.preventDefault(),F())},onCompositionStart:()=>{y(!0)},onCompositionEnd:()=>{y(!1)},onPaste:T,placeholder:a,rows:1,className:"!mt-[2px] !w-full !border-0 !bg-transparent !p-0 !pl-1 text-sm font-normal leading-normal text-slate-700 !shadow-none outline-none placeholder:text-[rgba(11,11,11,0.5)] focus:!border-0 focus:!shadow-none focus:!ring-0 max-md:!mt-[2.5px]",style:{fontFamily:"Inter",fontSize:"14px",fontWeight:400,lineHeight:"".concat(17,"px"),resize:"none",overflow:"auto"}})})}),(0,i.jsx)("div",{className:"flex items-center justify-end",children:(0,i.jsx)("button",{onClick:F,disabled:!A,className:"flex h-5 w-5 flex-shrink-0 items-center justify-center transition-colors disabled:opacity-30",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,i.jsx)("path",{d:"M4.16667 10L2.5 17.5L17.5 10L2.5 2.5L4.16667 10ZM4.16667 10H10.8333",stroke:"url(#paint0_linear_563_12119)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_563_12119",x1:"0.769241",y1:"0.957142",x2:"0.793583",y2:"17.522",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#1448B8"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#B882FE"})]})})]})})})]})]})}function x(e){let{attachments:t,removeAttachment:n}=e;if(!t||0===t.length)return null;let r=t.some(e=>"uploading"===e.status);return(0,i.jsx)(s,{direction:"horizontal",maskSize:24,fadeColor:"rgb(255, 255, 255)",className:"w-full",disabled:r,children:(0,i.jsx)("div",{className:"mt-[3px] flex gap-x-2 [&>*]:flex-shrink-0",children:t.map(e=>(0,i.jsx)(v,{attachment:e,removeAttachment:n},e.filename))})})}function g(e){let{progress:t=0,size:n=24}=e,r=(n-4)/2,l=2*Math.PI*r;return(0,i.jsx)("div",{className:"relative",style:{width:n,height:n},children:(0,i.jsxs)("svg",{className:"-rotate-90 transform",width:n,height:n,viewBox:"0 0 ".concat(n," ").concat(n),children:[(0,i.jsx)("circle",{cx:n/2,cy:n/2,r:r,stroke:"#e0e0e0",strokeWidth:"2",fill:"none"}),(0,i.jsx)("circle",{cx:n/2,cy:n/2,r:r,stroke:"#007AFF",strokeWidth:"2",fill:"none",strokeDasharray:l,strokeDashoffset:l-t/100*l,strokeLinecap:"round",className:"transition-all duration-300 ease-in-out"})]})})}function v(e){let t,{attachment:n,removeAttachment:r}=e,{filename:o,mime_type:s,file:c,progress:u,nanoId:p,status:f}=n,h=(0,m.CO)(s),x=(0,l.useMemo)(()=>{if(c instanceof File)try{return URL.createObjectURL(c)}catch(e){}return""},[c]);if(h&&x)t=(0,i.jsx)(a.e,{src:x,alt:o||"image",className:"h-[56px] w-[56px] object-contain"});else{let e=(0,m.VI)(o);t=(0,i.jsxs)(d.kC,{flexDirection:"row",className:"w-[236px] cursor-pointer gap-x-2 p-2 pr-8",children:[(0,i.jsx)(y,{}),(0,i.jsxs)(d.kC,{flexDirection:"column",className:"w-[148px]  text-sm leading-5",children:[(0,i.jsx)("p",{className:"truncate text-[#0B0B0B]",children:o}),(0,i.jsx)("p",{className:"text-[#0B0B0BA8]",children:e.toUpperCase()})]})]})}return(0,i.jsxs)("div",{className:"group relative h-[56px] overflow-hidden rounded-lg border border-[#e0e0e0]",children:[t,"uploading"===f&&(0,i.jsx)("div",{className:"absolute -inset-px flex items-center justify-center rounded-lg bg-gray-500/50 backdrop-blur-sm",children:(0,i.jsx)(g,{progress:u,size:32})}),(0,i.jsx)(j,{onClick:()=>r(p),className:"absolute right-1.5 top-1.5 cursor-pointer opacity-0 transition-opacity duration-200 group-hover:opacity-100"})]})}function j(e){return(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("rect",{width:"16",height:"16",rx:"8",fill:"#0B0B0B"}),(0,i.jsx)("path",{d:"M4.66666 11.3327L11.3333 4.66602M4.66666 4.66602L11.3333 11.3327",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})]})}function y(e){return(0,i.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#343482"}),(0,i.jsx)("path",{d:"M16 20H24M16 25.3333H24M26.6667 32H13.3333C11.8606 32 10.6667 30.8061 10.6667 29.3333V10.6667C10.6667 9.19391 11.8606 8 13.3333 8H20.781C21.1347 8 21.4738 8.14048 21.7238 8.39052L28.9428 15.6095C29.1929 15.8595 29.3333 16.1987 29.3333 16.5523V29.3333C29.3333 30.8061 28.1394 32 26.6667 32Z",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}},86772:function(e,t,n){"use strict";n.d(t,{fr:function(){return r},x1:function(){return o}});var i=n(27573);let[r,l]=(0,n(72108).bo)();function o(e){let{children:t,onSendMessage:n,onLoginSuccess:r,isThinking:o,messageId:s,interacts:a,chatId:c}=e;return(0,i.jsx)(l.Provider,{value:{onSendMessage:e=>{o||null==n||n({...e,isStrict:!1})},onLoginSuccess:r,isThinking:o,messageId:s,interacts:a,chatId:c},children:t})}},58972:function(e,t,n){"use strict";n.d(t,{l:function(){return nj}});var i=n(27573),r=n(78949);function l(e){let{node:t}=e;return(0,i.jsx)("div",{className:"h-full w-full overflow-hidden rounded-xl bg-[#E7E7E7] p-5",children:(0,i.jsx)(r.TinyImage,{unoptimized:!0,src:t.image_url,alt:"icon",className:"h-full w-full object-contain"})})}var o=n(10191),s=n(83807),a=n(7653),c=n(49784),u=n(2216),d=n(80733),m=n(60052),p=n(96379),f=n(86772);function h(e){let{className:t,onClick:n}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:[(0,i.jsx)("g",{clipPath:"url(#clip0_914_1847)",children:(0,i.jsx)("path",{d:"M9.04896 2.92664C9.34833 2.00537 10.6517 2.00538 10.951 2.92664L12.0208 6.21864C12.1547 6.63063 12.5386 6.90957 12.9718 6.90958L16.4333 6.90971C17.402 6.90975 17.8047 8.1493 17.0211 8.71871L14.2208 10.7534C13.8703 11.008 13.7237 11.4594 13.8575 11.8714L14.927 15.1635C15.2263 16.0847 14.1719 16.8508 13.3882 16.2815L10.5878 14.247C10.2373 13.9924 9.76272 13.9924 9.41225 14.247L6.61179 16.2815C5.82809 16.8508 4.77367 16.0847 5.07297 15.1635L6.14249 11.8714C6.27634 11.4594 6.1297 11.008 5.77924 10.7534L2.97894 8.71871C2.19528 8.1493 2.59804 6.90975 3.56672 6.90971L7.02818 6.90958C7.46137 6.90957 7.8453 6.63063 7.97918 6.21864L9.04896 2.92664Z",stroke:"#30BBA0",strokeWidth:"2"})}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_914_1847",children:(0,i.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})}function x(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M11.6667 8.33333H15.6366C16.8756 8.33333 17.6814 9.63719 17.1273 10.7454L14.2107 16.5787C13.9283 17.1433 13.3512 17.5 12.7199 17.5H9.37184C9.23557 17.5 9.09982 17.4833 8.96762 17.4502L5.83333 16.6667M11.6667 8.33333V4.16667C11.6667 3.24619 10.9205 2.5 10 2.5H9.92044C9.50414 2.5 9.16667 2.83748 9.16667 3.25377C9.16667 3.84903 8.99047 4.43096 8.66028 4.92624L5.83333 9.16667V16.6667M11.6667 8.33333H10M5.83333 16.6667H4.16667C3.24619 16.6667 2.5 15.9205 2.5 15V10C2.5 9.07953 3.24619 8.33333 4.16667 8.33333H6.25",stroke:"#BE6CFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function g(e){let{className:t,onClick:n}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,onClick:n,children:[(0,i.jsx)("path",{d:"M12.6667 14V11.3333M14 12.6667H11.3333M12 4.66667V2M13.3333 3.33333H10.6667M7.33333 14L5.80952 9.42857L2 8L5.80952 6.57143L7.33333 2L8.85714 6.57143L12.6667 8L8.85714 9.42857L7.33333 14Z",stroke:"url(#paint0_linear_2269_12642)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_2269_12642",x1:"15.2343",y1:"0.615393",x2:"1.98239",y2:"0.634866",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#1448B8"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#B882FE"})]})})]})}function v(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M12.6667 14V11.3333M14 12.6667H11.3333M12 4.66667V2M13.3333 3.33333H10.6667M7.33333 14L5.80952 9.42857L2 8L5.80952 6.57143L7.33333 2L8.85714 6.57143L12.6667 8L8.85714 9.42857L7.33333 14Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function j(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M8.33342 17.5H14.1667C15.0872 17.5 15.8334 16.7538 15.8334 15.8333V7.84518C15.8334 7.62416 15.7456 7.4122 15.5893 7.25592L11.0775 2.74408C10.9212 2.5878 10.7093 2.5 10.4882 2.5H5.83341C4.91294 2.5 4.16675 3.24619 4.16675 4.16667V13.3333M4.16675 17.5L8.23231 13.4344M8.23231 13.4344C8.68473 13.8868 9.30973 14.1667 10.0001 14.1667C11.3808 14.1667 12.5001 13.0474 12.5001 11.6667C12.5001 10.286 11.3808 9.16667 10.0001 9.16667C8.61937 9.16667 7.50008 10.286 7.50008 11.6667C7.50008 12.357 7.7799 12.982 8.23231 13.4344Z",stroke:"#6FC644",strokeWidth:"2",strokeLinecap:"round"})})}function y(e){let{className:t,onClick:n}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:[(0,i.jsx)("path",{d:"M13.3334 5.83333C13.3334 7.67428 11.841 9.16667 10.0001 9.16667C8.15913 9.16667 6.66675 7.67428 6.66675 5.83333C6.66675 3.99238 8.15913 2.5 10.0001 2.5C11.841 2.5 13.3334 3.99238 13.3334 5.83333Z",stroke:"#AB6E00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M10.0001 11.6667C6.77842 11.6667 4.16675 14.2783 4.16675 17.5H15.8334C15.8334 14.2783 13.2217 11.6667 10.0001 11.6667Z",stroke:"#AB6E00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function _(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M10.0001 8.33333V13.3333M10.0001 13.3333L7.50008 10.8333M10.0001 13.3333L12.5001 10.8333M14.1667 17.5H5.83341C4.91294 17.5 4.16675 16.7538 4.16675 15.8333V4.16667C4.16675 3.24619 4.91294 2.5 5.83341 2.5H10.4882C10.7093 2.5 10.9212 2.5878 11.0775 2.74408L15.5893 7.25592C15.7456 7.4122 15.8334 7.62416 15.8334 7.84518V15.8333C15.8334 16.7538 15.0872 17.5 14.1667 17.5Z",stroke:"#423EA2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function w(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M3.33325 13.3333L3.33325 14.1666C3.33325 15.5473 4.45254 16.6666 5.83325 16.6666L14.1666 16.6666C15.5473 16.6666 16.6666 15.5473 16.6666 14.1666L16.6666 13.3333M13.3333 6.66663L9.99992 3.33329M9.99992 3.33329L6.66659 6.66663M9.99992 3.33329L9.99992 13.3333",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function b(e){let{className:t,onClick:n}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,onClick:n,children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_1930_6496)",children:[(0,i.jsx)("path",{d:"M14.9384 1.03364C14.6115 0.706276 14.2233 0.44657 13.7959 0.269376C13.3686 0.0921819 12.9105 0.000976562 12.4478 0.000976562C11.9852 0.000976562 11.5271 0.0921819 11.0997 0.269376C10.6724 0.44657 10.2842 0.706276 9.95726 1.03364L9.1913 1.7996L8.69319 1.30149C8.55957 1.17698 8.38284 1.1092 8.20022 1.11242C8.01761 1.11564 7.84338 1.18962 7.71424 1.31876C7.58509 1.44791 7.51112 1.62214 7.50789 1.80475C7.50467 1.98736 7.57246 2.16409 7.69696 2.29772L8.19508 2.79583L9.1913 3.79205L11.6772 6.28261L5.56824 12.3915C5.2977 12.6162 4.95296 12.7316 4.60169 12.7152C4.25041 12.6987 3.91797 12.5516 3.6696 12.3026C3.42124 12.0537 3.27488 11.7209 3.25927 11.3696C3.24365 11.0183 3.3599 10.6738 3.58519 10.4038L9.69411 4.29486L8.69789 3.29864L2.58897 9.40756C2.27287 9.72565 2.0372 10.1146 1.90153 10.542C1.76586 10.9694 1.73411 11.4231 1.80891 11.8652L0.48374 13.1904C0.330435 13.3428 0.208775 13.524 0.125756 13.7236C0.0427382 13.9232 0 14.1373 0 14.3534C0 14.5696 0.0427382 14.7837 0.125756 14.9833C0.208775 15.1829 0.330435 15.3641 0.48374 15.5165C0.63575 15.6696 0.81657 15.7912 1.01578 15.8742C1.21499 15.9571 1.42864 15.9998 1.64443 15.9998C1.86023 15.9998 2.07388 15.9571 2.27309 15.8742C2.4723 15.7912 2.65312 15.6696 2.80513 15.5165L4.15379 14.1725C4.58972 14.2398 5.03534 14.2038 5.45484 14.0675C5.87434 13.9312 6.256 13.6984 6.56916 13.3878L12.6781 7.27884L12.2082 6.80892L13.1997 7.80044L13.6978 8.29856C13.7623 8.36781 13.8402 8.42336 13.9266 8.46188C14.0131 8.50041 14.1064 8.52112 14.2011 8.52279C14.2957 8.52446 14.3897 8.50705 14.4775 8.4716C14.5653 8.43615 14.645 8.38338 14.7119 8.31645C14.7789 8.24951 14.8316 8.16978 14.8671 8.08202C14.9025 7.99425 14.9199 7.90024 14.9183 7.80559C14.9166 7.71095 14.8959 7.61761 14.8574 7.53115C14.8188 7.44468 14.7633 7.36686 14.694 7.30233L14.2006 6.78072L14.9619 6.01946C15.2879 5.69062 15.5458 5.30077 15.7211 4.87219C15.8963 4.44361 15.9854 3.9847 15.9832 3.52168C15.981 3.05866 15.8876 2.60061 15.7084 2.1737C15.5291 1.74679 15.2674 1.35939 14.9384 1.03364ZM2.65946 13.6744L1.66323 14.6659L1.32959 14.3323L2.46679 13.1998C2.5098 13.2594 2.5569 13.3159 2.60776 13.369C2.66885 13.43 2.73464 13.4723 2.80043 13.5287L2.65946 13.6744ZM13.8435 4.93865L13.0822 5.70461L10.0888 2.71594L10.8548 1.94998C11.2557 1.57645 11.7859 1.3731 12.3337 1.38276C12.8815 1.39243 13.4042 1.61436 13.7917 2.00179C14.1791 2.38923 14.401 2.91192 14.4107 3.45976C14.4204 4.00759 14.217 4.53779 13.8435 4.93865Z",fill:"#475569"}),(0,i.jsx)("path",{d:"M2.65931 13.6745L2.80028 13.5288L1.66309 14.666L2.65931 13.6745Z",fill:"#475569"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1930_6496",children:(0,i.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})}function C(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M16.6666 6.33333L9.99992 3L3.33325 6.33333M16.6666 6.33333L9.99992 9.66667M16.6666 6.33333V14.6667L9.99992 18M9.99992 9.66667L3.33325 6.33333M9.99992 9.66667V18M3.33325 6.33333V14.6667L9.99992 18",stroke:"#423EA2",strokeWidth:"1.5",strokeLinejoin:"round"})})}function k(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M10.8333 13.3332V4.99984C10.8333 4.5396 10.4602 4.1665 10 4.1665H3.33333C2.8731 4.1665 2.5 4.5396 2.5 4.99984V13.3332C2.5 13.7934 2.8731 14.1665 3.33333 14.1665H4.16667M10.8333 13.3332C10.8333 13.7934 10.4602 14.1665 10 14.1665H7.5M10.8333 13.3332L10.8333 6.6665C10.8333 6.20627 11.2064 5.83317 11.6667 5.83317H13.8215C14.0425 5.83317 14.2545 5.92097 14.4107 6.07725L17.2559 8.92243C17.4122 9.07871 17.5 9.29067 17.5 9.51168V13.3332C17.5 13.7934 17.1269 14.1665 16.6667 14.1665H15.8333M10.8333 13.3332C10.8333 13.7934 11.2064 14.1665 11.6667 14.1665H12.5M4.16667 14.1665C4.16667 15.087 4.91286 15.8332 5.83333 15.8332C6.75381 15.8332 7.5 15.087 7.5 14.1665M4.16667 14.1665C4.16667 13.246 4.91286 12.4998 5.83333 12.4998C6.75381 12.4998 7.5 13.246 7.5 14.1665M12.5 14.1665C12.5 15.087 13.2462 15.8332 14.1667 15.8332C15.0871 15.8332 15.8333 15.087 15.8333 14.1665M12.5 14.1665C12.5 13.246 13.2462 12.4998 14.1667 12.4998C15.0871 12.4998 15.8333 13.246 15.8333 14.1665",stroke:"#423EA2",strokeWidth:"1.5"})})}function N(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M7.50008 11.3333H12.5001M14.1667 18H5.83341C4.91294 18 4.16675 17.2538 4.16675 16.3333V4.66667C4.16675 3.74619 4.91294 3 5.83341 3H10.4882C10.7093 3 10.9212 3.0878 11.0775 3.24408L15.5893 7.75592C15.7456 7.9122 15.8334 8.12416 15.8334 8.34518V16.3333C15.8334 17.2538 15.0872 18 14.1667 18Z",stroke:"#423EA2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function M(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M7.5 4.16634L13.3333 9.99967L7.5 15.833",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function E(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M9.33333 3.83342L14 8.50008M14 8.50008L9.33333 13.1667M14 8.50008L2 8.50008",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function I(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M7.49984 10H12.4998M7.49984 13.3333H12.4998M14.1665 17.5H5.83317C4.9127 17.5 4.1665 16.7538 4.1665 15.8333V4.16667C4.1665 3.24619 4.9127 2.5 5.83317 2.5H10.488C10.709 2.5 10.921 2.5878 11.0772 2.74408L15.5891 7.25592C15.7454 7.4122 15.8332 7.62416 15.8332 7.84518V15.8333C15.8332 16.7538 15.087 17.5 14.1665 17.5Z",stroke:"#4572ED",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function L(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M5.83317 17.5H14.1665C15.087 17.5 15.8332 16.7538 15.8332 15.8333V7.84518C15.8332 7.62416 15.7454 7.4122 15.5891 7.25592L11.0772 2.74408C10.921 2.5878 10.709 2.5 10.488 2.5H5.83317C4.9127 2.5 4.1665 3.24619 4.1665 4.16667V15.8333C4.1665 16.7538 4.9127 17.5 5.83317 17.5Z",stroke:"#423EA2",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function S(e){let{className:t,onClick:n}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:t,onClick:n,children:[(0,i.jsx)("circle",{cx:"6",cy:"6",r:"5.5",fill:"#F6F6F6",stroke:"url(#paint0_linear_2742_20421)"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_2742_20421",x1:"-1.10429",y1:"-3.23077",x2:"14.0881",y2:"-2.77526",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{"stop-color":"#4572ED"}),(0,i.jsx)("stop",{offset:"0.774038","stop-color":"#BE6CFF"})]})})]})}function B(e){let{className:t,onClick:n}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:[(0,i.jsx)("path",{d:"M5 3C3.89543 3 3 3.89543 3 5V7C3 8.10457 3.89543 9 5 9H7C8.10457 9 9 8.10457 9 7V5C9 3.89543 8.10457 3 7 3H5Z",fill:"#0F172A"}),(0,i.jsx)("path",{d:"M5 11C3.89543 11 3 11.8954 3 13V15C3 16.1046 3.89543 17 5 17H7C8.10457 17 9 16.1046 9 15V13C9 11.8954 8.10457 11 7 11H5Z",fill:"#0F172A"}),(0,i.jsx)("path",{d:"M11 5C11 3.89543 11.8954 3 13 3H15C16.1046 3 17 3.89543 17 5V7C17 8.10457 16.1046 9 15 9H13C11.8954 9 11 8.10457 11 7V5Z",fill:"#0F172A"}),(0,i.jsx)("path",{d:"M14 11C14.5523 11 15 11.4477 15 12V13H16C16.5523 13 17 13.4477 17 14C17 14.5523 16.5523 15 16 15H15V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V15H12C11.4477 15 11 14.5523 11 14C11 13.4477 11.4477 13 12 13H13V12C13 11.4477 13.4477 11 14 11Z",fill:"#0F172A"})]})}function D(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M11.5237 8.47631C10.2219 7.17456 8.11139 7.17456 6.80964 8.47631L3.47631 11.8096C2.17456 13.1114 2.17456 15.2219 3.47631 16.5237C4.77806 17.8254 6.88861 17.8254 8.19036 16.5237L9.10832 15.6057M8.47631 11.5237C9.77806 12.8254 11.8886 12.8254 13.1904 11.5237L16.5237 8.19036C17.8254 6.88861 17.8254 4.77806 16.5237 3.47631C15.2219 2.17456 13.1114 2.17456 11.8096 3.47631L10.8933 4.39265",stroke:"#0B0B0B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}function U(e){let{className:t,onClick:n}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:t,onClick:n,children:(0,i.jsx)("path",{d:"M2.5 6.5L4.5 8.5L9.5 3.5",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}function A(e){let{icon:t,label:n}=e;return(0,i.jsxs)(u.kC,{alignItems:"center",className:"w-fit gap-2 rounded-full bg-white px-4 py-2",children:[t,(0,i.jsx)("span",{className:"text-base font-normal text-[#0b0b0ba8]",children:n})]})}function F(){return(0,i.jsx)(A,{icon:(0,i.jsx)(j,{className:"h-5 w-5"}),label:"Order details"})}function P(){return(0,i.jsx)(A,{icon:(0,i.jsx)(j,{className:"h-5 w-5"}),label:"Shipment details"})}function z(){return(0,i.jsx)(A,{icon:(0,i.jsx)(_,{className:"h-5 w-5"}),label:"Invoice"})}function T(){return(0,i.jsx)(A,{icon:(0,i.jsx)(I,{className:"h-5 w-5"}),label:"Project summary"})}function q(){return(0,i.jsx)(A,{icon:(0,i.jsx)(y,{className:"h-5 w-5"}),label:"Account info"})}function Z(){return(0,i.jsx)(A,{icon:(0,i.jsx)(h,{className:"h-5 w-5"}),label:"Branding info"})}function H(e){let{label:t}=e;return(0,i.jsx)(A,{icon:(0,i.jsx)(x,{className:"h-5 w-5"}),label:t})}function W(e){let{label:t,onClick:n}=e;return(0,i.jsxs)("div",{className:"flex w-fit cursor-pointer items-center gap-2",onClick:n,children:[(0,i.jsx)(N,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:"text-base font-medium text-[#343482] underline underline-offset-4",children:t})]})}function R(e){let{label:t,onClick:n}=e;return(0,i.jsxs)("div",{className:"flex w-fit cursor-pointer items-center gap-2",onClick:n,children:[(0,i.jsx)(C,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:"text-base font-medium text-[#343482] underline underline-offset-4",children:t})]})}function V(e){let{label:t,onClick:n}=e;return(0,i.jsxs)("div",{className:"flex w-fit cursor-pointer items-center gap-2",onClick:n,children:[(0,i.jsx)(k,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:"text-base font-medium text-[#343482] underline underline-offset-4",children:t})]})}function O(e){let{label:t,onClick:n}=e;return(0,i.jsxs)("div",{className:"flex w-fit cursor-pointer items-center gap-2",onClick:n,children:[(0,i.jsx)(L,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:"text-base font-medium text-[#343482] underline underline-offset-4",children:t})]})}function G(e){var t;let{node:n}=e;return(0,i.jsxs)(u.kC,{flexDirection:"column",alignItems:"center",className:"aspect-square h-[120px] w-[120px] gap-3 overflow-hidden rounded-xl bg-[#E7E7E7]",children:[(0,i.jsx)("div",{className:"mt-5 h-[60px] w-[60px] rounded-full",style:{backgroundColor:(0,m.iF)(n.innerContent)}}),(0,i.jsx)("div",{className:"text-center text-xs text-[#0B0B0BA8]",children:null===(t=n.innerContent)||void 0===t?void 0:t.toUpperCase()})]})}let Y=(e,t)=>e.type===t.type&&("brand"===e.node_type?e.image_url===t.image_url:"brand-color"===e.node_type&&e.innerContent===t.innerContent),K=(e,t)=>e.some(e=>Y(e,t)),J=["logo","symbol"];function $(e){let{node:t,mode:n,isUser:r,isMe:h}=e,[x,g]=(0,a.useState)(!1),{onSendMessage:v,isThinking:j}=(0,f.fr)(),[y,_]=(0,a.useState)([]),[w,b]=(0,a.useState)({}),{groupBrandOptions:C}=(0,a.useMemo)(()=>{var e;let n=(null===(e=t.children)||void 0===e?void 0:e.filter(e=>"brand"===e.node_type))||[],i=null==n?void 0:n.reduce((e,t)=>{var n;let i=(null==t?void 0:null===(n=t.type)||void 0===n?void 0:n.toLowerCase())||"logo";return e[i]=e[i]||[],e[i].push(t),e},{}),r=[...J.map(e=>[e,i[e]||[]])];return{groupBrandByType:i,groupBrandOptions:r}},[t.children]),k=(0,a.useCallback)(e=>{_(t=>[...t.filter(t=>t.type!==e.type),e])},[]),N=C.every(e=>{let[t,n]=e;return(null==n?void 0:n.length)===0||y.some(e=>e.type===t)}),M=async()=>{if(g(!0),v)try{var e;let t=await Promise.all(J.map(async e=>{let t=null==y?void 0:y.find(t=>t.type===e);if(t&&"brand"===t.node_type){let e=await (0,m.dc)({url:t.image_url,filename:"brand",type:"image/png"});if(t.image_id)return(0,p.zb)({...t,image_id:t.image_id});let n=await (0,o.OE)({filename:e.name,title:"brand",description:"Brand image: ".concat(t.innerContent||"Unknown brand"),type:"chat_message",mime_type:e.type,file:e});return(0,p.zb)({...t,image_id:n.id})}let n=w[e];return n?(0,p.zb)({node_type:"brand",type:e,innerContent:n.title,image_id:n.id,image_url:n.file_url}):""})),n=null==y?void 0:null===(e=y.filter(e=>"brand-color"===e.node_type))||void 0===e?void 0:e.map(e=>(0,p.zb)(e));v({content:"<BrandSelector>".concat([...(null==t?void 0:t.filter(Boolean))||[],...(null==n?void 0:n.filter(Boolean))||[]].join(""),"</BrandSelector>")})}catch(e){c.ZP.error("Error downloading and uploading brand image")}g(!1)};return(0,a.useEffect)(()=>{C.length>0&&C.forEach(e=>{let[t,n]=e;(null==n?void 0:n.length)>0&&k(n[0])})},[C,k]),(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-2",children:[(0,i.jsx)(Z,{}),(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-4",children:[(0,i.jsx)("div",{className:"text-sm font-normal text-[#0B0B0B]",children:t.title}),C.filter(e=>{let[t,n]=e;return(null==n?void 0:n.length)>0}).map(e=>{let[t,o]=e;return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-normal capitalize text-[#0B0B0B]",children:t}),(0,i.jsx)(u.kC,{className:"flex-wrap gap-3",children:null==o?void 0:o.map((e,t)=>(0,i.jsx)(a.Fragment,{children:(0,i.jsxs)("div",{className:(0,d.cn)("group relative flex h-[120px] w-[183px] items-center rounded-[16px] bg-white","brand-color"===e.node_type&&"h-[120px] w-[120px]",!r&&K(y,e)&&"outline outline-2 outline-[#423EA2]"),onClick:()=>k(e),children:[!r&&(0,i.jsx)(X,{className:"absolute left-3 top-3",checked:K(y,e)}),"brand"===e.node_type&&(0,i.jsx)(l,{node:e,mode:n,isUser:r,isMe:h}),"brand-color"===e.node_type&&(0,i.jsx)(G,{node:e,mode:n,isUser:r,isMe:h})]},t)},t))})]},t)}),!r&&(0,i.jsxs)(u.zx,{size:"lg",disabled:x||!N||j,className:"w-fit",onClick:()=>M(),children:[x&&(0,i.jsx)(s.LoadingIcon,{className:"h-4 w-4 animate-spin"}),"Confirm"]})]})]})}function X(e){let{checked:t,className:n,disabled:r}=e;return(0,i.jsx)("div",{className:n,children:(0,i.jsx)("div",{className:(0,d.cn)("flex h-4 w-4 items-center justify-center rounded-full border-2",t&&"border-[#423EA2] bg-[#423EA2]",!t&&"border-[#E0E0E0] bg-white"),children:t&&(0,i.jsx)(U,{className:"h-3 w-3"})})})}function Q(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e,[s,c]=(0,a.useState)("000000"),{onSendMessage:d,isThinking:m}=(0,f.fr)();return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-3",children:[(0,i.jsxs)(u.kC,{alignItems:"center",className:"gap-2",children:[(0,i.jsx)("div",{className:"h-8 w-8 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:"#".concat(s)},title:"current color: ".concat(s.toUpperCase())}),(0,i.jsxs)(u.kC,{alignItems:"center",className:"gap-2 rounded-lg border p-2 text-sm",children:["#",s.toUpperCase(),!l&&(0,i.jsx)(u.vF,{value:s,onChange:c,children:(0,i.jsx)(b,{})})]})]}),!l&&(0,i.jsx)(u.zx,{disabled:!s||m,size:"lg",className:"w-fit",onClick:()=>{let e=s.toUpperCase();null==d||d({content:"#".concat(e),attachments:[]})},children:"Confirm"}),null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o},t))]})}var ee=n(23009);function et(e){var t,n;let{node:r,mode:l,isUser:d,isMe:p}=e,h=(0,a.useRef)(null),[x,g]=(0,a.useState)(!1),[v,j]=(0,a.useState)(0),{onSendMessage:y,isThinking:_}=(0,f.fr)(),b=async e=>{let t=Array.from(e.target.files||[]);if(0!==t.length){for(let e=0;e<t.length;e++){let n=t[e];if(ee.$&&n.size>ee.$){c.ZP.error("The file youâ€™ve uploaded is too large. Please upload a smaller file (under ".concat(Math.floor(ee.$/1024/1024),"MB). "));return}}g(!0),j(0);try{for(let e of t){let t=await (0,o.OE)({title:e.name.split(".")[0]||"Untitled",filename:e.name,description:"",type:"spu_edit_template_image_featured",is_internal:!1,mime_type:e.type,file:e},e=>{j(e)}),n='<File id="'.concat(t.id,'" name="').concat(e.name,'" mime_type="').concat(e.type,'" />');null==y||y({content:n,attachments:[]})}}catch(e){c.ZP.error("File upload failed:",e)}finally{g(!1),j(0),h.current&&(h.current.value="")}}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.zx,{size:"lg",onClick:()=>{var e;null===(e=h.current)||void 0===e||e.click()},disabled:x||_,className:"flex items-center justify-center gap-2",children:[x?(0,i.jsx)(s.LoadingIcon,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(w,{className:"text-green-700"}),x?(0,i.jsx)("div",{children:"Uploading..."}):(null===(t=r.children)||void 0===t?void 0:t.length)?null===(n=r.children)||void 0===n?void 0:n.map((e,t)=>(0,i.jsx)(nj,{node:e,mode:l,isUser:d,isMe:p},t)):(0,i.jsx)("div",{children:"Upload file"})]}),(0,i.jsx)("input",{ref:h,type:"file",multiple:!0,className:"hidden",onChange:b,accept:m.zY})]})}class en extends m.eW{async request(e){let t=await (0,o.Dc)(e),n=new Map;return t.forEach(e=>{n.set(this.generateKey(e.id),e)}),n}generateKey(e){return"image:".concat(e)}async getImageInfo(e){return this.get(e)}async getImageInfos(e){return Promise.all(e.map(e=>this.get(e)))}constructor(){super(),this.setCacheExpiration(0)}}let ei=new en;function er(e){var t;let{node:n,mode:l,isUser:o,isMe:s}=e,[c,u]=(0,a.useState)(null),[d,m]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(n.url){u(n.url),m(!1);return}if(!n.id){m(!1);return}(async()=>{try{m(!0);let e=await ei.get(n.id);u((null==e?void 0:e.file_url)||"")}finally{m(!1)}})()},[n.id,n.url]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.TinyImage,{className:"h-[120px] w-[120px] rounded-lg border border-gray-200 bg-[#E7E7E7]",src:c||"",alt:n.id||n.url||"image",width:120,height:120,objectFit:"contain"}),null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(nj,{node:e,mode:l,isUser:o,isMe:s},t))]})}function el(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e;return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-4",children:[(0,i.jsx)(z,{}),(0,i.jsx)(u.kC,{flexDirection:"column",className:"max-h-[320px] gap-4 overflow-y-auto",children:null==n?void 0:null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o})},t))})]})}var eo=n(63847),es=n(82296),ea=n(87723),ec=n(9306),eu=n(78829),ed=n(34055),em=n(73362),ep=n(60202),ef=n(19616),eh=n(34507);let ex="/invoices/";class eg extends m.eW{async request(e){let t=(await (0,eh.S$)(e)).data||[],n=new Map;return t.forEach(e=>{n.set(this.generateKey(e.id),e)}),n}generateKey(e){return"invoice:".concat(e)}async getInvoiceDetail(e){return this.get(e)}async getInvoiceDetails(e){return Promise.all(e.map(e=>this.get(e)))}constructor(){super(),this.setCacheExpiration(0)}}let ev=new eg;function ej(e){let{className:t,onRetry:n}=e;return(0,i.jsx)("div",{className:(0,d.cn)("inline-block items-center rounded-[36px] bg-white text-base text-[#0B0B0B99]",t),children:(0,i.jsxs)(u.kC,{alignItems:"center",justifyContent:"center",className:"h-full w-full",children:["Failed to load, please"," ",(0,i.jsx)("span",{className:"cursor-pointer underline underline-offset-4",onClick:n,children:"try again"}),"."]})})}let ey={default:"linear-gradient(156deg, #FFF -4.14%, rgba(127, 157, 239, 0.33) 103.29%)",blue:"linear-gradient(156deg, #FFF -4.14%, rgba(127, 157, 239, 0.33) 103.29%)",purple:"linear-gradient(101deg, #FFF 0.86%, rgba(184, 130, 254, 0.45) 103.72%)",green:"linear-gradient(96deg, #FFF -19.06%, #D0F3C3 115.03%)",cobalt:"linear-gradient(97deg, #FFF -17.66%, #B4B4E5 115.55%)",gray:"linear-gradient(156deg, #FFF -4.14%, rgba(156, 163, 175, 0.33) 103.29%)",lighter:"linear-gradient(92deg, #7F9DEF -9.72%, #DCAFFF 85.51%)"};function e_(e){let{theme:t="default",className:n}=e;return(0,i.jsx)("div",{className:(0,d.cn)("inline-block animate-pulse rounded-[36px]",n),style:{background:ey[t]}})}var ew=n(47409);function eb(e){let{product_type:t,is_custom_design:n,isCataLog:i}=e;return({stock_sample:"Stock Sample",custom_sample:"Custom Sample",production:"Production"})[i&&"custom_sample"===t?n?"custom_sample":"stock_sample":t]}function eC(e){let{estimated_delivery_time:t}=e;return(0,i.jsxs)("div",{className:"bg-teal-0 flex w-fit items-center gap-x-1 rounded-lg px-2 py-1 text-xs text-teal-600",children:[(0,i.jsx)(s.TruckIcon,{className:"h-[16px] w-[16px]"}),(0,i.jsxs)("div",{className:"flex-1",children:["Est. delivery date:"," ",(0,i.jsx)("span",{className:"font-semibold",children:t?(0,eu.p6)(t):"--"})]})]})}function ek(e){let{className:t,isCataLog:n=!0,thumbnail:l,price:o,product_name:s,product_type:a,is_custom_design:c,quantity_breakdown:p,quantity:f,estimated_delivery_time:h,mode:x}=e,g=[{content:eb({product_type:a,is_custom_design:c,isCataLog:n})},{content:p},{content:(0,ew.Ac)(f)}].filter(e=>e.content);return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-2",children:["mobile"===x&&h&&(0,i.jsx)("div",{children:(0,i.jsx)(eC,{estimated_delivery_time:h})}),(0,i.jsxs)(u.kC,{className:"gap-5",children:[(0,i.jsx)("div",{className:"w-[60px]",children:(0,i.jsx)(r.TinyImage,{className:"h-[60px] w-[60px] min-w-[60px] rounded border border-slate-200",alt:s||"",src:(null==l?void 0:l.file_url)||"",width:60,height:60})}),(0,i.jsx)("div",{className:(0,d.cn)("flex flex-1 gap-5 text-sm",t),children:(0,i.jsxs)(u.kC,{flexDirection:"column",className:"flex-1 grow gap-3 leading-none text-slate-500",children:[(0,i.jsxs)(u.kC,{flexDirection:"pc"===x?"row":"column",justifyContent:"pc"===x?"spaceBetween":"start",className:"gap-3 text-sm font-medium text-slate-700",children:[(0,i.jsxs)(u.kC,{flexDirection:"column",className:(0,d.cn)("gap-2"),children:[(0,i.jsx)("div",{children:s}),"pc"===x&&(0,i.jsx)(eN,{infoList:g}),"mobile"===x&&(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-1",children:[(0,i.jsx)(eN,{infoList:g.slice(0,2)}),(0,i.jsx)(eN,{infoList:g.slice(2)})]})]}),(0,i.jsx)("div",{className:"text-nowrap text-base font-semibold text-indigo-400",children:(0,m.jf)(o)})]}),"pc"===x&&h&&(0,i.jsx)(eC,{estimated_delivery_time:h})]})})]})]})}function eN(e){let{infoList:t}=e,n=t.filter(e=>e.content);return(0,i.jsx)(u.kC,{alignItems:"center",className:"flex-wrap text-sm text-[#0B0B0BA8]",children:n.map((e,t)=>(0,i.jsxs)(a.Fragment,{children:[t>0&&(0,i.jsx)(es.i,{borderTheme:"slate200",className:"mx-1 h-[18px]",direction:"vertical"}),e.content]},t))})}function eM(e){let t=(0,eo.$)(e),{products:n,productPriceItems:i}=t,r=n.reduce((e,t)=>{let n=null==i?void 0:i.find(e=>e.item_id===t.item_id||e.xid===t.xid&&!t.item_id),r=e.find(e=>e.group_id===t.group_id);return t.group_id&&r?(r.subItems.push(t),r.price_items.push(...(null==n?void 0:n.price_items)||[]),r.quantity+=Number(t.quantity||(null==n?void 0:n.quantity))):e.push({...t,subItems:[t],price_items:(null==n?void 0:n.price_items)||[],thumbnail:(null==t?void 0:t.thumbnail)||(null==n?void 0:n.thumbnail),quantity:Number((null==t?void 0:t.quantity)||(null==n?void 0:n.quantity)),quantity_breakdown:(null==t?void 0:t.quantity_breakdown)||(null==n?void 0:n.quantity_breakdown)}),e},[]);return{...t,groupProducts:r}}function eE(e){let{node:t,mode:n,isUser:r,isMe:l}=e,[o,s]=(0,a.useState)(null),[c,m]=(0,a.useState)(!0),p=(0,a.useCallback)(async()=>{try{m(!0);let e=await ev.get(t.id);s(e)}finally{m(!1)}},[t.id]);return((0,a.useEffect)(()=>{p()},[p]),c)?(0,i.jsx)(e_,{className:"h-[224px] w-full",theme:"cobalt"}):o?(0,i.jsxs)(u.kC,{flexDirection:"column",className:(0,d.cn)("w-full gap-5 rounded-2xl bg-white px-4 py-5"),children:[(0,i.jsx)(eI,{data:o}),(0,i.jsx)(eL,{data:o,mode:n}),(0,i.jsx)(eS,{data:o,mode:n})]}):(0,i.jsx)(ej,{className:"h-[224px] w-full",onRetry:p})}function eI(e){let{data:t}=e;return(0,i.jsxs)(u.kC,{justifyContent:"spaceBetween",children:[(0,i.jsx)(u.kC,{className:"gap-2",children:(0,i.jsx)(W,{label:null==t?void 0:t.xid,onClick:()=>window.open("".concat(ex).concat(t.id),"_blank")})}),(0,i.jsx)("div",{children:(0,i.jsx)(ec.a,{status:t.status})})]})}function eL(e){let{data:t,mode:n}=e,{currency:r,groupProducts:l}=eM(t);return(0,i.jsx)(u.kC,{flexDirection:"column",className:"gap-4",children:l.map((e,t)=>(0,i.jsx)(ek,{product_name:e.product_name||"",product_type:e.product_type||e.order_type,is_custom_design:null==e?void 0:e.is_custom_design,isCataLog:(null==e?void 0:e.source_from)==="catalog",price:{amount:em.YS.sumExcludeSaleTaxPriceItems(null==e?void 0:e.price_items),currency:r},thumbnail:null==e?void 0:e.thumbnail,mode:n,quantity:null==e?void 0:e.quantity,quantity_breakdown:(0,eu.Cd)((null==e?void 0:e.quantity_breakdown)||[])||Number(e.subItems.length)>1&&(0,i.jsx)(ea.G,{quantityBreakdown:e.subItems.map(e=>({stock_variant:e.stock_variant,quantity:e.quantity}))})},"".concat(e.id,"-").concat(t)))})}function eS(e){var t,n,r;let{data:l,mode:o}=e,{totalAmount:s,salesTax:a,subTotalAmount:c,discounts:m,discountTotal:p,invoiceType:f,amount:h,paidAmount:x,status:g}=eM(l),v=null==l?void 0:null===(r=l.payments)||void 0===r?void 0:null===(n=r.find(e=>(null==e?void 0:e.pay_method)==="airwallex"))||void 0===n?void 0:null===(t=n.detail)||void 0===t?void 0:t.url,{trigger:j,isMutating:y}=(0,ep.I3)(),_=async()=>{if("one_time"===l.invoice_type&&!y)try{let e=await j({invoice_id:l.id});if((null==e?void 0:e.code)===0)return e.data.detail.url;return""}catch(e){return""}},w=async()=>{v||await _(),window.open("/export/".concat(ex).concat(l.id),"_blank")},b=async()=>{if(v)window.open(v,"_blank");else{let e=await _();e?window.open(e,"_blank"):window.open("".concat(ex).concat(l.id),"_blank")}};return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-5",children:[(0,i.jsx)(es.i,{}),(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-4",children:[(0,i.jsx)(eB,{price:{amount:c,currency:l.amount.currency},label:"Subtotal"}),a>0&&(0,i.jsx)(eB,{label:"Sales Tax",price:{amount:a,currency:l.amount.currency}}),p>0&&(0,i.jsxs)(i.Fragment,{children:[m.map((e,t)=>(0,i.jsx)(eB,{label:(0,i.jsxs)(i.Fragment,{children:[ef._o[e.dtype],(0,i.jsx)("span",{className:"pl-1 text-slate-500",children:(0,ed.Pg)(null==e?void 0:e.conditions)}),(0,i.jsx)("span",{className:"pl-1 font-semibold text-fuchsia-400",children:(0,ed.rn)(e)})]}),price:{amount:-e.total,currency:l.amount.currency}},t)),"remainder"===f&&(0,i.jsx)(eB,{label:"Remainder payment",price:h}),"deposit"===f&&(0,i.jsx)(eB,{label:"Deposit payment",price:h})]}),(0,i.jsx)(es.i,{}),(0,i.jsx)(eB,{price:{amount:s,currency:l.amount.currency},label:"Total"}),Number(null==x?void 0:x.amount)>0&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eB,{label:"Amount paid",price:x,color:"green"})}),"unpaid"===g&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eB,{label:"Total due",price:h,color:"red"})})]}),(0,i.jsxs)(u.kC,{flexDirection:"pc"===o?"row":"column",className:"gap-2",children:["unpaid"===l.status&&(0,i.jsx)(u.zx,{size:"lg",className:(0,d.cn)("pc"===o?"w-fit":"w-full"),onClick:b,children:"Pay now"}),(0,i.jsx)(u.zx,{size:"lg",className:(0,d.cn)("border-[#E0E0E0]","pc"===o?"w-fit":"w-full"),variant:"unpaid"===l.status?"plain":"primary",onClick:w,children:"Download invoice (.pdf)"})]})]})}function eB(e){let{price:t,label:n,color:r="normal"}=e;return(0,i.jsxs)(u.kC,{justifyContent:"spaceBetween",children:[(0,i.jsx)("div",{className:"text-base font-medium text-slate-700",children:n}),(0,i.jsx)("div",{className:(0,d.cn)("text-nowrap text-base font-semibold","red"===r?"text-red-400":"","green"===r?"text-green-600":"","normal"===r?"text-indigo-400":""),children:(0,m.jf)(t)})]})}var eD=n(99510),eU=n(13068),eA=n.n(eU);function eF(e){let{open:t,onClose:n,src:r}=e;return((0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&n()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,n]),t)?(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:n,children:(0,i.jsxs)("div",{className:"relative h-[90vh] max-w-[90vw]",children:[(0,i.jsx)("video",{src:r,controls:!0,autoPlay:!0,className:"h-full max-w-full object-contain",onClick:e=>e.stopPropagation()}),(0,i.jsx)("button",{onClick:n,className:"absolute right-4 top-4 flex h-10 w-10 items-center justify-center rounded-full bg-black bg-opacity-50 text-2xl font-bold text-white transition-colors hover:bg-opacity-75",children:(0,i.jsx)(s.CloseIcon,{className:"h-6 w-6"})})]})}):null}function eP(e){let{children:t,className:n=""}=e,[r,l]=(0,a.useState)(!1),[o,s]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)(""),p=(0,a.useRef)(null),f=e=>{s(e),l(!0)},h=e=>{m(e),u(!0)};return(0,a.useEffect)(()=>{let e=p.current;if(e)return e.querySelectorAll("video").forEach(e=>{var t;if(null===(t=e.parentElement)||void 0===t?void 0:t.classList.contains(eA().videoWrapper))return;let n=document.createElement("div");n.className=eA().videoWrapper;let i=document.createElement("div");i.className=eA().playIcon,i.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">\n          <path d="M19.6692 14.8906L15.4063 12.0486C14.5202 11.4579 13.3333 12.0931 13.3333 13.158V18.842C13.3333 19.9069 14.5202 20.5421 15.4063 19.9514L19.6692 17.1094C20.4609 16.5816 20.4609 15.4184 19.6692 14.8906Z" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M28 16C28 22.6274 22.6274 28 16 28C9.37258 28 4 22.6274 4 16C4 9.37258 9.37258 4 16 4C22.6274 4 28 9.37258 28 16Z" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      ';let r=e.parentNode;r&&(r.insertBefore(n,e),n.appendChild(e),n.appendChild(i))}),()=>{let t=e.querySelectorAll("video");t&&t.forEach(e=>{let t=e.parentElement;if(null==t?void 0:t.classList.contains(eA().videoWrapper)){let n=t.parentElement;n&&(n.insertBefore(e,t),n.removeChild(t))}})}},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:p,className:"".concat(eA().previewContainer," ").concat(n),onClick:e=>{let t=e.target;"IMG"===t.tagName&&(e.preventDefault(),e.stopPropagation(),f(t.src)),"VIDEO"===t.tagName&&(e.preventDefault(),e.stopPropagation(),h(t.src))},children:t}),r&&(0,i.jsx)(eD.W,{open:r,onClose:()=>{l(!1),s("")},src:o}),c&&(0,i.jsx)(eF,{open:c,onClose:()=>{u(!1),m("")},src:d})]})}function ez(e){let{node:t}=e;return(0,i.jsx)(eP,{className:"prose prose-chat prose-p:mt-2 prose-p:mb-2 first:prose-p:mt-0 last:prose-p:mb-0 prose-headings:my-2 prose-p:leading-[1.3] w-full max-w-full",children:(0,i.jsx)("div",{className:"w-full",dangerouslySetInnerHTML:{__html:t.innerHtml}})})}function eT(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e,[s,c]=(0,a.useState)([]),{onSendMessage:d,isThinking:m}=(0,f.fr)();return(0,i.jsx)("div",{className:"w-full",children:(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-2",children:[null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(a.Fragment,{children:"option"===e.node_type?(0,i.jsxs)(u.kC,{alignItems:"center",className:"min-h-[25px] gap-3 text-sm font-medium",onClick:()=>{let t=(0,p.zb)(e);s.includes(t)?c(s.filter(e=>e!==t)):c([...s,t])},children:[!l&&(0,i.jsx)(u.XZ,{checked:s.includes((0,p.zb)(e)),readOnly:!0}),(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o})]}):(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o})},t)),!l&&(0,i.jsx)(u.zx,{disabled:!(null==s?void 0:s.length)||m,size:"lg",className:"w-fit",onClick:()=>{d({content:"<MultiSelector>".concat(s.join(""),"</MultiSelector>")})},children:"Confirm"})]})})}function eq(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e;return(0,i.jsx)("span",{className:"",children:n.content||(0,i.jsx)("div",{className:"flex gap-1",children:null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o},t))})})}function eZ(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e;return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-4",children:[(0,i.jsx)(F,{}),(0,i.jsx)(u.kC,{flexDirection:"column",className:"max-h-[320px] gap-4 overflow-y-auto",children:null==n?void 0:null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o})},t))})]})}var eH=n(45943),eW=n(80657),eR=n(1866);let eV="/orders/";class eO extends m.eW{async request(e){let t=(await (0,eR.R5)(e)).data,n=new Map;return t.forEach(e=>{n.set(this.generateKey(e.id),e)}),n}generateKey(e){return"client_order:".concat(e)}async getOrderDetail(e){return this.get(e)}async getOrderDetails(e){return Promise.all(e.map(e=>this.get(e)))}constructor(){super(),this.setCacheExpiration(0)}}let eG=new eO;function eY(e){let{node:t,mode:n,isUser:r,isMe:l}=e,[o,s]=(0,a.useState)(null),[c,m]=(0,a.useState)(!0),p=(0,a.useMemo)(()=>{var e;return null==o?void 0:null===(e=o.items)||void 0===e?void 0:e.reduce((e,t)=>{if(t.group_id){var n;let i=e.find(e=>e.group_id===t.group_id);i?null===(n=i.subItems)||void 0===n||n.push(t):e.push({...t,subItems:[t]})}else e.push({...t,subItems:[t]});return e},[])},[null==o?void 0:o.items]),f=(0,a.useCallback)(async()=>{try{m(!0);let e=await eG.get(t.id);s(e)}finally{m(!1)}},[t.id]);return((0,a.useEffect)(()=>{f()},[f]),c)?(0,i.jsx)(e_,{className:"h-[224px] w-full",theme:"green"}):o?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(u.kC,{flexDirection:"column",className:(0,d.cn)("w-full gap-5 rounded-2xl bg-white px-4 py-5"),children:[(0,i.jsx)(eK,{data:o,mode:n}),p.map(e=>{var t;return(0,i.jsx)(eJ,{data:e,isCataLog:"catalog"===o.source_from,thumbnail:null===(t=o.attachment_map)||void 0===t?void 0:t[null==e?void 0:e.thumbnail],mode:n,priceItems:o.price_items},e.id)}),(0,i.jsx)(es.i,{}),(0,i.jsx)(e$,{data:o,mode:n})]})}):(0,i.jsx)(ej,{className:"h-[224px] w-full",onRetry:f})}function eK(e){let{data:t,mode:n}=e;return(0,i.jsxs)(u.kC,{justifyContent:"pc"===n?"spaceBetween":"start",flexDirection:"pc"===n?"row":"column",className:"gap-x-1 gap-y-2",children:[(0,i.jsxs)(u.kC,{className:"gap-x-1 gap-y-2",flexDirection:"pc"===n?"row":"column",children:[(0,i.jsx)(R,{label:null==t?void 0:t.xid,onClick:()=>window.open("".concat(eV).concat(t.id),"_blank")}),(0,i.jsx)("div",{children:(0,i.jsx)(eW.b,{status:null==t?void 0:t.payment_status})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(eH.rU,{value:t.status,orderType:t.order_type,is_multi_product_order:t.is_multi_product_order})})]})}function eJ(e){var t,n,r,l,o;let{data:s,isCataLog:a=!0,thumbnail:c,mode:u,priceItems:d=[]}=e,m={amount:em.YS.sumPriceItems(em.YS.getExcludeSaleTaxPriceItems(d.filter(e=>e.item_id===s.id))),currency:null==d?void 0:null===(n=d[0])||void 0===n?void 0:null===(t=n.unit_price)||void 0===t?void 0:t.currency},p=null===(r=s.subItems)||void 0===r?void 0:r.reduce((e,t)=>e+t.quantity,0);return(0,i.jsx)(ek,{isCataLog:a,thumbnail:c,product_name:s.product_name||"",product_type:s.product_type,is_custom_design:s.is_custom_design,quantity_breakdown:(0,eu.Cd)((null==s?void 0:s.quantity_breakdown)||[])||Number(null==s?void 0:null===(l=s.subItems)||void 0===l?void 0:l.length)>1&&(0,i.jsx)(ea.G,{quantityBreakdown:null==s?void 0:null===(o=s.subItems)||void 0===o?void 0:o.map(e=>({stock_variant:e.stock_variant,quantity:e.quantity}))}),quantity:p,estimated_delivery_time:s.estimated_delivery_time,mode:u,price:m})}function e$(e){var t,n,r;let{data:l,mode:o}=e,s=null==l?void 0:null===(r=l.price_items)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:null===(t=n.unit_price)||void 0===t?void 0:t.currency,a=em.YS.sumExcludeSaleTaxPriceItems(l.price_items),c=em.YS.sumSalesTaxPriceItems(l.price_items),m=em.YS.sumDiscount(l.discount_items),p=(0,ed.HU)(l.discount_items);return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-5",children:[(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-4",children:[(0,i.jsx)(eX,{price:{amount:a,currency:s},label:"Subtotal"}),c>0&&(0,i.jsx)(eX,{label:"Sales Tax",price:{amount:c,currency:s}}),m>0&&(0,i.jsx)(i.Fragment,{children:p.map(e=>(0,i.jsx)(eX,{label:(0,i.jsxs)(i.Fragment,{children:[ef._o[e.dtype],(0,i.jsx)("span",{className:"pl-1 text-slate-500",children:(0,ed.Pg)(null==e?void 0:e.conditions)}),(0,i.jsx)("span",{className:"pl-1 font-semibold text-fuchsia-400",children:(0,ed.rn)(e)})]}),price:{amount:-e.total,currency:s}},e.groupId))})]}),(0,i.jsx)(es.i,{}),(0,i.jsx)(eX,{price:l.total_amount,label:"Total"}),"fully_paid"!==l.payment_status&&(0,i.jsx)(u.zx,{size:"lg",className:(0,d.cn)("w-fit","mobile"===o&&"w-full"),onClick:()=>window.open("".concat(eV).concat(l.id),"_blank"),children:"Pay now"})]})}function eX(e){let{price:t,label:n}=e;return(0,i.jsxs)(u.kC,{justifyContent:"spaceBetween",children:[(0,i.jsx)("div",{className:"text-base font-medium text-slate-700",children:n}),(0,i.jsx)("div",{className:"text-nowrap text-base font-semibold text-indigo-400",children:(0,m.jf)(t)})]})}function eQ(e){let{node:t}=e;return(0,i.jsx)(eP,{className:"chat-editor w-full",children:(0,i.jsx)("div",{className:"w-full",dangerouslySetInnerHTML:{__html:t.innerHtml}})})}n(12952);var e0=n(49556),e1=n(72108),e3=n(8753),e2=n(44087),e6=n(23222),e4=n(55668),e5=n(47313),e7=n(71517);class e9 extends m.eW{async request(e){let t=await (0,o.Dc)(e),n=new Map;return t.forEach(e=>{n.set(this.generateKey(e.id),e)}),n}generateKey(e){return"file:".concat(e)}async getFileInfo(e){return this.get(e)}async getFileInfos(e){return Promise.all(e.map(e=>this.get(e)))}constructor(){super(),this.setCacheExpiration(0)}}let e8=new e9;var te=n(99145);class tt extends m.eW{async request(e){let t=await Promise.all(e.map(e=>(0,te.Jq)(e))),n=new Map;return e.forEach((e,i)=>{var r,l;n.set(this.generateKey(e),{preview_url:(null==t?void 0:null===(l=t[i])||void 0===l?void 0:null===(r=l.images)||void 0===r?void 0:r[0])||""})}),n}generateKey(e){return"preview:".concat(e.spu_id,"_").concat(e.logo_image_id,"_").concat(e.symbol_image_id,"_").concat(e.color,"_").concat(e.index)}async getPreviewInfo(e){return this.get(e)}async getPreviewInfos(e){return Promise.all(e.map(e=>this.get(e)))}constructor(){super(),this.setCacheExpiration(0)}}let tn=new tt;class ti extends m.eW{async request(e){let t=e.reduce((e,t)=>(e[t.country_code]=[...e[t.country_code]||[],t],e),{}),n=new Map;return await Promise.all(Object.entries(t).map(async e=>{let[t,i]=e,r=await (0,te.jw)({ids:i.map(e=>e.spuId),country_code:t});null==r||r.data.forEach(e=>{n.set(this.generateKey({spuId:e.id,country_code:t}),e)})})),n}generateKey(e){return"spu:".concat(e.spuId,":").concat(e.country_code)}async getSpuInfo(e){return this.get(e)}async getSpuInfos(e){return Promise.all(e.map(e=>this.get(e)))}constructor(){super(),this.setCacheExpiration(0)}}let tr=new ti;function tl(e){var t,n,r;let{data:l,width:o,theme:c,mode:p,logo:f,symbol:h,brand_design_mode:x}=e,g=(null===(t=l.views)||void 0===t?void 0:t.length)||0,{parseSecondCategory:v}=(0,e2.K)(),[j,y]=(0,a.useState)((null==l?void 0:l.selected_color)||""),[_,w]=(0,a.useState)(0),[b,C]=(0,a.useState)(""),[k,N]=(0,a.useState)(null),[M,E]=(0,a.useState)(!1),{countryCode:I}=(0,e6.n)(),L=(0,a.useRef)(0),S=(0,a.useRef)(!1),[B,D]=(0,a.useState)(!1),U=(null===(r=l.color)||void 0===r?void 0:null===(n=r.split(","))||void 0===n?void 0:n.filter(Boolean))||[],A=(0,a.useCallback)(async()=>{if(k)return k;try{E(!0);let e=await tr.get({spuId:l.id,country_code:l.country_code||I});return N(e),E(!1),e}finally{E(!1)}},[l.id,l.country_code,I,k]),F=(0,a.useCallback)(async e=>{var t,n,i,r;let{color:o,view_index:s}=e;y(o),w(s),E(!0);let a=Date.now();if(L.current=a,x){let e=await tn.getPreviewInfo({spu_id:l.id,logo_image_id:f,symbol_image_id:h,color:o,index:s});if(E(!1),null==e?void 0:e.preview_url){a===L.current&&C(e.preview_url);return}D(!0)}let c=await A(),u=(null==c?void 0:null===(n=c.color_options)||void 0===n?void 0:null===(t=n.find(e=>(0,m.iF)(e.value)===(0,m.iF)(o)))||void 0===t?void 0:t.image_id)||(null==c?void 0:null===(i=c.color_options[0])||void 0===i?void 0:i.image_id),d=u?null===(r=c.attachment_maps)||void 0===r?void 0:r[u]:void 0;C((null==d?void 0:d.file_url)||""),E(!1)},[x,A,l.id,f,h]),P=(0,a.useCallback)(async e=>{try{E(!0);let t=await e8.get(e);C((null==t?void 0:t.file_url)||"")}finally{E(!1)}},[]);(0,a.useEffect)(()=>{S.current||(S.current=!0,l.preview_image_url?C(l.preview_image_url):x?F({color:l.selected_color,view_index:0}):P(l.image_id))},[l.image_id,l.preview_image_url,x,P,F,l.selected_color]);let z=async()=>{let e=await A(),t="/".concat(e5.sy,"/").concat(v(null==e?void 0:e.category_id).value,"/").concat((null==e?void 0:e.key)||(null==e?void 0:e.id));window.open(t,"_blank")},T=async()=>{var e,t;let n=await A(),i={color:j||(null==n?void 0:null===(t=n.color_options)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.value),...x?{logo:f,symbol:h,brand_design_mode:x}:{}},r="/".concat(e5.sy,"/").concat(v(null==n?void 0:n.category_id).value,"/").concat((null==n?void 0:n.key)||(null==n?void 0:n.id),"/editor?").concat((0,ew.FJ)(i));window.open(r,"_blank")},q={width:"pc"===p?"".concat(o,"px"):"100%",maxWidth:"".concat(o,"px")};return(0,i.jsxs)("div",{className:(0,d.cn)("group box-content inline-block rounded-[40px] p-2",{"hover:bg-blue-50":"blue"===c,"hover:bg-[#E9D1FF]":"purple"===c}),children:[(0,i.jsxs)("div",{className:(0,d.cn)("relative aspect-square cursor-pointer overflow-hidden rounded-[28px]"),style:{...q},onClick:e=>{e.stopPropagation(),e.preventDefault(),T()},children:[b&&(0,i.jsx)(e4.K,{src:b,alt:"spu-img",className:(0,d.cn)("absolute left-0 top-0 aspect-square w-full overflow-hidden rounded-[20px] object-cover transition duration-300 ease-in-out","hover:scale-110"),quality:50,placeImageType:"error"}),B&&(0,i.jsx)("div",{className:"absolute left-1/2 top-1/2 flex w-full -translate-x-1/2 -translate-y-1/2 items-center justify-center",children:(0,i.jsx)("div",{className:"w-fit rounded-xl bg-[#0B0B0B99] p-[6px] text-center text-xs text-white",children:"Preview not available yet"})}),M&&(0,i.jsx)("div",{className:"absolute left-1/2 top-1/2 h-6 w-6 -translate-x-1/2 -translate-y-1/2",children:(0,i.jsx)(s.LoadingIcon,{className:"h-6 w-6 animate-spin text-indigo-400 will-change-transform"})}),g>1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tc,{viewIndex:_,viewLength:g,onLeftClick:()=>{F({color:j,view_index:_-1})},onRightClick:()=>{F({color:j,view_index:_+1})}}),(0,i.jsx)(td,{viewIndex:_,viewLength:g})]}),(0,i.jsx)(u.kC,{justifyContent:"center",className:"absolute bottom-[-18px] right-0 w-full px-3 opacity-0 transition-all duration-300 ease-in-out group-hover:bottom-[18px] group-hover:flex group-hover:opacity-[1]",children:(0,i.jsx)("div",{className:"w-full cursor-pointer rounded-xl bg-[#343482] px-3 py-2 text-center text-base font-medium text-white",onClick:e=>{e.stopPropagation(),e.preventDefault(),T()},children:"Design and order"})})]}),(0,i.jsx)("div",{style:q,children:(0,i.jsxs)(u.kC,{flexDirection:"column",className:"mx-4 mb-3 mt-5",children:[(0,i.jsxs)(u.kC,{className:"mb-1 flex-wrap gap-x-2 text-xs text-[#0B0B0BA8]",children:[(0,i.jsxs)("div",{className:"font-normal text-slate-500",children:["From"," ",(0,i.jsxs)(ta,{children:["$ ",(0,m.sH)(null==l?void 0:l.min_price,2)]})]}),"\xb7",(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"Min. quantity"}),"\xa0",(0,m.sH)(null==l?void 0:l.min_quantity,0)]})]}),(0,i.jsx)(to,{name:l.innerContent,onClick:z}),(null==U?void 0:U.length)>0&&(0,i.jsx)("div",{className:"mt-3 cursor-default",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,i.jsx)(ts,{colors:U,selectColor:j,setSelectColor:e=>F({color:e,view_index:_})})})]})})]})}function to(e){var t;let{name:n,onClick:r}=e,l=(0,a.useRef)(null),o=l.current&&!!(t=l.current)&&t.scrollHeight>t.clientHeight;return(0,i.jsxs)("div",{className:"group/product-name relative z-0 max-w-full cursor-pointer text-sm text-[#0B0B0B]",onClick:r,children:[(0,i.jsx)("div",{ref:l,className:"line-clamp-2 text-sm font-medium leading-normal hover:underline hover:underline-offset-4",children:n}),o&&(0,i.jsx)("div",{className:"bg-slate-0 absolute bottom-[100%] left-[-16px] z-0 hidden w-[240px] rounded-md border px-4 py-3 text-xs text-slate-500 shadow-md group-hover/product-name:inline-block",children:n})]})}function ts(e){let{colors:t,className:n,colorClassName:r,selectColor:l,setSelectColor:o,onClick:s}=e;return(0,i.jsx)(u.kC,{className:(0,d.cn)("flex-wrap gap-1 overflow-hidden",n),onClick:s,children:t.map((e,t)=>(0,i.jsx)("div",{className:(0,d.cn)("h-5 w-5 cursor-pointer rounded-full",r,{"border-2 border-indigo-400":l===e,"border border-slate-200":l!==e}),onClick:()=>o(e),style:{backgroundColor:(0,m.iF)(e)}},"".concat(e,"-").concat(t)))})}function ta(e){let{children:t}=e;return(0,i.jsx)("span",{className:"font-semibold text-indigo-400",children:t})}function tc(e){let{viewIndex:t,viewLength:n,onLeftClick:r,onRightClick:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tu,{direction:"left",disabled:t<=0,onClick:()=>{t<=0||r()}}),(0,i.jsx)(tu,{direction:"right",disabled:t>=n-1,onClick:()=>{t>=n-1||l()}})]})}function tu(e){let{onClick:t,className:n,direction:r="right",disabled:l}=e;return(0,i.jsx)("button",{className:(0,d.cn)("absolute top-1/2 z-10 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full border border-[#E0E0E0] bg-white/80  text-[#0B0B0B] opacity-0 transition-all duration-300  ease-in-out hover:bg-white group-hover:opacity-100",{"-left-2 group-hover:left-1":"left"===r,"-right-2 group-hover:right-1":"right"===r},n),disabled:l,onClick:e=>{e.stopPropagation(),e.preventDefault(),l||null==t||t()},children:(0,i.jsx)(M,{className:(0,d.cn)("h-5 w-5",{"rotate-180":"left"===r,"rotate-0":"right"===r,"opacity-30":l})})})}function td(e){let{viewIndex:t,viewLength:n}=e;return n<1?null:(0,i.jsx)(u.kC,{className:"absolute bottom-1 left-1/2 -translate-x-1/2 gap-[3px]",alignItems:"center",children:Array.from({length:n}).map((e,n)=>(0,i.jsx)("div",{className:(0,d.cn)("h-1.5 w-1.5 rounded-full transition-all duration-200",{"bg-[#999999]":n===t,"bg-[#E0E0E0]":n!==t})},"view-indicator-".concat(n)))})}function tm(e){let{node:t,mode:n,isUser:r,theme:l="blue",logo:o,symbol:s,brand_design_mode:a,width:c=224}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(tl,{mode:n,data:t,width:c,theme:l,logo:o,symbol:s,brand_design_mode:a})})}function tp(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e,s=(null==n?void 0:null===(t=n.children)||void 0===t?void 0:t.filter(e=>"spu"===e.node_type))||[],[c,m]=(0,a.useState)(s.slice(0,e3.h6)),{width:p}=(0,e1.dz)(),{containerWidth:f}=(0,a.useMemo)(()=>"mobile"===r||p<768?{containerWidth:tf(1)}:p<1024?{containerWidth:tf(Math.min(2,n.children.length))}:{containerWidth:tf(Math.min(3,n.children.length))},[r,p,n.children.length]),h=c.length<s.length;return(0,i.jsxs)("div",{className:"flex flex-col gap-4",style:{width:"".concat(f,"px")},children:[(0,i.jsx)(u.kC,{justifyContent:"spaceBetween",className:"flex-wrap gap-4",children:(0,i.jsx)(H,{label:"Recommended for you"})}),(0,i.jsx)(e0.I,{theme:"plain",needClosed:!1,iconClassName:"w-6 h-6",iconAlign:"start",children:(0,i.jsx)("div",{className:"text-sm font-normal text-[#0B0B0B]",children:"Prices shown are starting estimates. Your final price will be calculated at checkout based on your design, quantity, and shipping."})}),(0,i.jsxs)(u.kC,{className:"flex-wrap gap-x-2 gap-y-2 overflow-y-auto",children:[null==c?void 0:c.map((e,t)=>(0,i.jsx)("div",{children:"spu"===e.node_type?(0,i.jsx)(tm,{node:e,mode:r,isUser:l,isMe:o,theme:"purple",logo:n.logo,symbol:n.symbol,brand_design_mode:n.brand_design_mode,width:224}):(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o})},t)),h&&(0,i.jsxs)(u.zx,{className:"flex !h-[46px] w-full gap-x-2 !rounded-2xl",variant:"secondary",size:"xl",onClick:()=>{m(e=>{let t=s.slice(e.length,e.length+e3.oe);return[...e,...t]})},children:[(0,i.jsx)(B,{className:"h-5 w-5"}),(0,i.jsx)("span",{className:(0,d.cn)("pc"===r?"text-base":"text-sm"),children:"Load more"})]})]})]})}function tf(e){return 240*e+8*(e-1)}function th(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e,[s,c]=(0,a.useState)(null),{onSendMessage:m,isThinking:h}=(0,f.fr)();return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-3",children:[(0,i.jsx)(u.kC,{className:"flex-wrap gap-3",children:null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(a.Fragment,{children:"option"!==e.node_type||l?(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o}):(0,i.jsx)("div",{className:(0,d.cn)("flex cursor-pointer items-center rounded-[20px] bg-white",{"border-[2px] border-[#423EA2] px-[18px] py-[6px] text-[#343482]":s===(0,p.zb)(e),"border-[1px] border-[#E0E0E0] px-[19px] py-[7px] text-[#0B0B0B]":s!==(0,p.zb)(e)}),onClick:()=>c((0,p.zb)(e)),children:(0,i.jsx)(eq,{node:e,mode:r,isUser:l,isMe:o})},t)},t))}),!l&&(0,i.jsx)(u.zx,{disabled:!s||h,size:"lg",className:"w-fit",onClick:()=>{s&&m&&m({content:"<Select>".concat(s,"</Select>")})},children:"Confirm"})]})}var tx=n(87239);function tg(e){let{node:t}=e;return(0,i.jsx)("span",{className:"chat-editor",dangerouslySetInnerHTML:{__html:(0,tx.aV)(t.content)}})}function tv(e){let{node:t}=e;return(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-lg border border-gray-400 bg-gray-100 px-3 py-2",children:[(0,i.jsx)("div",{className:"h-4 w-4 rounded bg-gray-500"}),(0,i.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Unknown node (",t.node_type,")"]})]})}function tj(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e;return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-y-4",children:[(0,i.jsx)(q,{}),(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-y-3",children:[(0,i.jsx)("div",{className:"text-sm text-[#0B0B0B]",children:"Please click the button below to update your account information."}),(0,i.jsx)(u.zx,{className:"w-fit px-3",size:"lg",onClick:()=>{window.open("/account/detail","_blank")},children:"Go to account details"})]}),null==n?void 0:null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o})},t))]})}function ty(e){var t;let{node:n,mode:l,isUser:o,isMe:s}=e;return(0,i.jsxs)(u.kC,{alignItems:"center",className:"w-full gap-5",children:[(0,i.jsx)(r.TinyImage,{unoptimized:!0,src:n.icon,alt:"icon",className:"h-12 w-12 rounded-full object-cover"}),(0,i.jsxs)(u.kC,{alignItems:"center",justifyContent:"spaceBetween",className:"flex-1 flex-wrap gap-x-5 gap-y-1",children:[(0,i.jsx)("span",{className:"text-base font-medium text-[#0D0D2B]",children:n.content||(0,i.jsx)("div",{className:"flex gap-1",children:null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(nj,{node:e,mode:l,isUser:o,isMe:s},t))})}),(0,i.jsx)("span",{className:"text-sm text-[#0B0B0B] opacity-50",children:n.url})]})]})}function t_(e){var t,n,r,l,o;let{node:s,mode:c,isUser:m,isMe:h}=e,[x,g]=(0,a.useState)((null===(t=s.children)||void 0===t?void 0:t.length)===1&&(null==s?void 0:null===(r=s.children)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.node_type)==="website-item"?(0,p.zb)(null==s?void 0:null===(l=s.children)||void 0===l?void 0:l[0]):null),{onSendMessage:v,isThinking:j}=(0,f.fr)();return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-3",children:[(0,i.jsx)(u.kC,{flexDirection:"column",className:"",children:null===(o=s.children)||void 0===o?void 0:o.map((e,t)=>(0,i.jsx)(a.Fragment,{children:"website-item"===e.node_type?(0,i.jsx)("div",{className:(0,d.cn)("flex items-center",{"rounded-lg bg-[#EDEDED] p-3":x===(0,p.zb)(e),"py-3":x!==(0,p.zb)(e)}),onClick:()=>g((0,p.zb)(e)),children:(0,i.jsx)(ty,{node:e,mode:c,isUser:m,isMe:h})},t):(0,i.jsx)(nj,{node:e,mode:c,isUser:m,isMe:h})},t))}),!m&&(0,i.jsx)(u.zx,{disabled:!x||j,size:"lg",className:"w-fit",onClick:()=>{x&&v&&v({content:"<WebsiteSelector>".concat(x,"</WebsiteSelector>")})},children:"Confirm"})]})}function tw(e){let{node:t,mode:n,isUser:r,isMe:l}=e,{onSendMessage:o,isThinking:s}=(0,f.fr)();return(0,i.jsx)(u.zx,{disabled:s,onClick:()=>{o({content:t.message||t.innerContent})},children:(0,i.jsx)("span",{children:t.innerContent})})}let tb="Nothing specific";function tC(e){let{mode:t,isUser:n,isMe:r}=e,[l,o]=(0,a.useState)(null),[s,c]=(0,a.useState)(null),{onSendMessage:d,isThinking:m}=(0,f.fr)(),{categoryTree:p}=(0,e2.L3)(),h=(0,a.useMemo)(()=>p.flatMap(e=>e.children),[p]),x=(0,a.useMemo)(()=>{var e;return(null==h?void 0:null===(e=h.filter(e=>{var t;return e.spu_count||(null==e?void 0:null===(t=e.children)||void 0===t?void 0:t.some(e=>e.spu_count))}))||void 0===e?void 0:e.map(e=>e.name))||[]},[h]),g=(0,a.useMemo)(()=>{var e,t;let n=h.find(e=>e.name===l);return l?[tb,...(null==n?void 0:null===(t=n.children)||void 0===t?void 0:null===(e=t.filter(e=>null==e?void 0:e.spu_count))||void 0===e?void 0:e.map(e=>e.name))||[]]:[]},[h,l]);return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-3",children:[(0,i.jsx)("div",{className:"text-sm font-normal",children:"Which product category are you interested in?"}),(0,i.jsx)(u.kC,{className:"flex-wrap gap-3",children:x.map(e=>(0,i.jsx)(tk,{selected:l===e,onClick:()=>o(t=>(t!==e&&c(null),e)),category:e},e))}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es.i,{}),(0,i.jsx)("div",{className:"text-sm font-normal",children:"Is there a specific product type youâ€™re looking for?"}),(0,i.jsx)(u.kC,{className:"flex-wrap gap-3",children:g.map(e=>(0,i.jsx)(tk,{selected:s===e,onClick:()=>c(e),category:e},e))})]}),!n&&(0,i.jsx)(u.zx,{disabled:!s||m,size:"lg",className:"w-fit",onClick:()=>{s&&d&&d({content:s===tb?l:s})},children:"Confirm"})]})}function tk(e){let{selected:t,onClick:n,category:r}=e;return(0,i.jsx)("div",{className:(0,d.cn)("flex cursor-pointer items-center rounded-[20px] bg-white",{"border-[2px] border-[#423EA2] px-[18px] py-[6px] text-[#343482]":t,"border-[1px] border-[#E0E0E0] px-[19px] py-[7px] text-[#0B0B0B]":!t}),onClick:()=>n(),children:r})}var tN=n(42295),tM=n(75565),tE=n(49846);function tI(e){let{mime_type:t="",url:n="",className:l=""}=e,[o,s]=(0,tE.OT)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.kC,{className:(0,d.cn)("h-[60px] w-[60px] overflow-hidden rounded-md border border-slate-200 bg-[#E7E7E7] object-contain",l),justifyContent:"center",alignItems:"center",children:(0,m.CO)(t||"unknow")||(0,m.hU)(n)?(0,i.jsx)(r.TinyImage,{unoptimized:!0,src:n,onClick:()=>{o||s()},alt:"preview",className:"h-full w-full object-contain"}):(0,i.jsx)(tL,{url:n})}),o&&(0,i.jsx)(eD.W,{onClose:s,open:o,src:n})]})}function tL(e){let{url:t,title:n,className:r,theme:l}=e,o=(0,tM.I8)(t);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(tS,{theme:l,onClick:()=>{var e;t&&(0,tN.b)(t,n||(null==t?void 0:null===(e=t.split("/"))||void 0===e?void 0:e.pop())||"")},className:(0,d.cn)("cursor-pointer",r),children:t?o:(0,i.jsx)(s.LoadingIcon,{className:"h-2 w-2 animate-spin"})})})}function tS(e){let{children:t,onClick:n,className:r,theme:l="primary"}=e;return(0,i.jsx)("div",{className:(0,d.cn)("flex h-full items-center justify-center",r),onClick:n,children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"40",viewBox:"0 0 42 49",fill:"none",children:(0,i.jsx)("path",{d:"M40.7612 11.1399L31.1612 1.53986C31.0897 1.463 31.003 1.40194 30.9066 1.36061C30.8101 1.31927 30.7061 1.29858 30.6012 1.29986H7.28917C6.47148 1.30406 5.68848 1.63076 5.11027 2.20896C4.53207 2.78716 4.20538 3.57017 4.20117 4.38786V19.6999C4.20117 19.912 4.28546 20.1155 4.43549 20.2655C4.58552 20.4156 4.789 20.4999 5.00117 20.4999C5.21335 20.4999 5.41683 20.4156 5.56686 20.2655C5.71689 20.1155 5.80117 19.912 5.80117 19.6999V4.38786C5.80117 3.99322 5.95794 3.61474 6.237 3.33569C6.51605 3.05663 6.89453 2.89986 7.28917 2.89986H29.8012V11.6999C29.8012 11.912 29.8855 12.1155 30.0355 12.2655C30.1855 12.4156 30.389 12.4999 30.6012 12.4999H39.4012V44.6119C39.4012 45.0065 39.2444 45.385 38.9653 45.664C38.6863 45.9431 38.3078 46.0999 37.9132 46.0999H7.28917C6.89453 46.0999 6.51605 45.9431 6.237 45.664C5.95794 45.385 5.80117 45.0065 5.80117 44.6119V40.4999C5.80117 40.2877 5.71689 40.0842 5.56686 39.9342C5.41683 39.7841 5.21335 39.6999 5.00117 39.6999C4.789 39.6999 4.58552 39.7841 4.43549 39.9342C4.28546 40.0842 4.20117 40.2877 4.20117 40.4999V44.6119C4.20538 45.4296 4.53207 46.2126 5.11027 46.7908C5.68848 47.369 6.47148 47.6957 7.28917 47.6999H37.9132C38.7309 47.6957 39.5139 47.369 40.0921 46.7908C40.6703 46.2126 40.997 45.4296 41.0012 44.6119V11.6999C41.0025 11.5949 40.9818 11.4909 40.9404 11.3945C40.8991 11.298 40.838 11.2113 40.7612 11.1399ZM31.4012 4.03586L38.2652 10.8999H31.4012V4.03586Z",className:(0,d.cn)("primary"===l&&"fill-brand-primary-400","plain"===l&&"fill-white")})}),(0,i.jsx)("div",{className:(0,d.cn)("absolute bottom-[7px] left-0 rounded-[2px] px-1 py-1 text-[9px] leading-[1]","primary"===l&&"bg-brand-primary-400 text-white","plain"===l&&"text-brand-primary-400 bg-white"),children:(0,i.jsx)("div",{className:"uppercase",children:t})})]})})}function tB(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e,[s,c]=(0,a.useState)(null),[d,p]=(0,a.useState)(!0),f=(0,m.CO)(n.mime_type);return(0,a.useEffect)(()=>{if(!n.id){p(!1);return}(async()=>{try{p(!0);let e=await e8.get(n.id);c(e)}finally{p(!1)}})()},[n.id]),(0,i.jsxs)(i.Fragment,{children:[f?(0,i.jsx)(tI,{mime_type:null==s?void 0:s.mime_type,url:null==s?void 0:s.file_url}):(0,i.jsxs)(u.kC,{alignItems:"center",className:"w-full gap-2",children:[(0,i.jsx)(tL,{url:(null==s?void 0:s.file_url)||"",title:(null==n?void 0:n.name)||(null==s?void 0:s.filename)||"",theme:l?"plain":"primary"}),(0,i.jsx)("span",{className:"break-all text-sm",children:(null==n?void 0:n.name)||(null==s?void 0:s.filename)||""})]}),null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o},t))]})}function tD(e){let{node:t,mode:n,isUser:l,isMe:o}=e;return(0,i.jsx)(r.TinyImage,{className:"h-full w-full rounded-lg border border-gray-200 object-contain",src:t.url||"",alt:t.innerContent||t.url,width:200,height:200,objectFit:"contain"})}function tU(e){var t,n;let{node:r,mode:l,isUser:h,isMe:x}=e,[g,v]=(0,a.useState)(!1),{onSendMessage:j,isThinking:y}=(0,f.fr)(),[_,w]=(0,a.useState)(),b=e=>{w(e)},C=async()=>{if(v(!0),j)try{let e=await (0,m.dc)({url:_.url,filename:"image"}),t=await (0,o.OE)({filename:e.name,title:"image",description:"image: ".concat(_.innerContent||"Unknown brand"),type:"chat_message",mime_type:e.type,file:e}),n=(0,p.zb)({..._,image_id:t.id});j({content:"<ImageSelect>".concat(n,"</ImageSelect>")})}catch(e){c.ZP.error("Error downloading and uploading brand image")}v(!1)};return(0,i.jsx)(u.kC,{flexDirection:"column",className:"w-full gap-2",children:(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-2",children:[(0,i.jsx)(u.kC,{className:"flex-wrap gap-3",children:null===(n=r.children)||void 0===n?void 0:null===(t=n.filter(e=>"image-item"===e.node_type))||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(a.Fragment,{children:(0,i.jsxs)("div",{className:(0,d.cn)("group relative flex h-[183px] w-[183px] items-center overflow-hidden rounded-[16px] bg-white",!h&&(null==e?void 0:e.url)===(null==_?void 0:_.url)&&"outline outline-2 outline-indigo-400"),onClick:()=>b(e),children:[!h&&(0,i.jsx)(tA,{className:"absolute left-5 top-5",checked:(null==e?void 0:e.url)===(null==_?void 0:_.url)}),(0,i.jsx)(tD,{node:e,mode:l,isUser:h,isMe:x})]},t)},t))}),!h&&(0,i.jsxs)(u.zx,{size:"lg",disabled:g||y||!_,className:"w-fit",onClick:()=>C(),children:[g&&(0,i.jsx)(s.LoadingIcon,{className:"h-4 w-4 animate-spin"}),"Confirm"]})]})})}function tA(e){let{checked:t,className:n,disabled:r}=e;return(0,i.jsx)("div",{className:n,children:(0,i.jsx)("div",{className:(0,d.cn)("flex h-5 w-5 items-center justify-center rounded-full border-2",{"border-indigo-400 bg-white":t,"border-[#E0E0E0] bg-white":!t},{"cursor-not-allowed border-[#B4B4E5]":t&&r}),children:t&&(0,i.jsx)("div",{className:(0,d.cn)("h-3 w-3 rounded-full bg-indigo-500",t&&r&&"bg-[#B4B4E5]")})})})}var tF=n(75259),tP=n(61027);function tz(e){let{node:t,isUser:n,mode:r,isMe:l}=e;return n?(0,i.jsx)(tq,{className:"cursor-not-allowed",node:t,isUser:n,mode:r,isMe:l}):(0,i.jsx)(tT,{node:t,isUser:n,mode:r})}function tT(e){let{node:t,isUser:n,mode:r,isMe:l}=e,{access:o}=(0,tP.xu)(),{onLoginSuccess:s}=(0,f.fr)();return o?(0,i.jsx)(tq,{className:"cursor-not-allowed",node:t,isUser:n,mode:r,isMe:l}):(0,i.jsx)(tF.LoginModalTrigger,{className:"inline-block",onLoginSuccess:s,children:(0,i.jsx)(tq,{className:"cursor-pointer underline underline-offset-4",node:t,isUser:n,mode:r,isMe:l})})}function tq(e){var t,n;let{node:r,isUser:l,mode:o,isMe:s,className:a}=e;return(0,i.jsx)("span",{className:(0,d.cn)("px-1 font-semibold",a),children:(null==r?void 0:null===(t=r.children)||void 0===t?void 0:t.length)?null==r?void 0:null===(n=r.children)||void 0===n?void 0:n.map((e,t)=>(0,i.jsx)(nj,{node:e,mode:o,isUser:l,isMe:s},t)):"Login in"})}var tZ=n(33700);function tH(e){let{mime_type:t="",url:n="",className:l="",filename:o="",mode:s="pc"}=e,[a,c]=(0,tE.OT)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.kC,{className:(0,d.cn)("h-[60px] w-[60px] cursor-pointer overflow-hidden rounded-md border border-slate-200 object-contain",l),justifyContent:"center",alignItems:"center",children:(0,m.CO)(t||"unknow")||(0,m.hU)(n)?(0,i.jsx)(r.TinyImage,{unoptimized:!0,src:n,onClick:()=>{a||c()},alt:"preview",className:"h-full w-full object-contain"}):(0,i.jsx)(tW,{url:n,title:o,mode:s})}),a&&(0,i.jsx)(eD.W,{onClose:c,open:a,src:n})]})}function tW(e){let{url:t,title:n,mode:r="pc"}=e,l=(0,tM.I8)(t);return(0,i.jsxs)(u.kC,{flexDirection:"pc"===r?"column":"row",alignItems:"pc"===r?"center":"start",className:(0,d.cn)("gap-x-2 gap-y-3 rounded-lg","pc"===r?"w-[152px] p-3":"w-full p-2"),onClick:()=>{var e;t&&(0,tN.b)(t,n||(null==t?void 0:null===(e=t.split("/"))||void 0===e?void 0:e.pop())||"")},children:[(0,i.jsx)(u.kC,{className:"h-10 w-10 rounded-lg bg-[#E7E7E7]",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(I,{className:"h-5 w-5"})}),(0,i.jsxs)(u.kC,{flexDirection:"column",alignItems:"pc"===r?"center":"start",className:"w-full flex-1 overflow-hidden",children:[(0,i.jsxs)("div",{className:"line-text-ellipsis w-full text-sm font-medium text-[#0B0B0B]",children:[n,"ainsdianosd aoishdoih asdhio asdhn"]}),(0,i.jsx)("div",{className:"text-sm font-normal text-[#0B0B0BA8]",children:l.toLocaleUpperCase()})]})]})}function tR(e){let{node:t,mode:n,isUser:r,isMe:l}=e,[o,s]=(0,a.useState)(null),c=(0,a.useCallback)(async()=>{{var e;let n=null===(e=t.reference_image_ids.split(","))||void 0===e?void 0:e[0];if(!n)return;s(await ei.get(n))}},[t.reference_image_ids]);return(0,a.useEffect)(()=>{c()},[c]),(0,i.jsx)(tV,{children:(0,i.jsx)(u.kC,{flexDirection:"column",className:(0,d.cn)("gap-5 rounded-2xl bg-white px-4 py-5"),children:(0,i.jsx)(tO,{data:{...t,imageInfo:o},mode:n})})})}function tV(e){let{children:t}=e;return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-4",children:[(0,i.jsx)(T,{}),(0,i.jsx)(u.kC,{flexDirection:"column",className:"max-h-[320px] gap-4 overflow-y-auto",children:t})]})}function tO(e){let{data:t,mode:n}=e,{parseMaterialsName:r}=(0,tZ.vB)(),l=(0,a.useMemo)(()=>{var e,l;return[[{label:"Project name",value:(0,ew.Av)(t.innerContent)||"--"},{label:"Target in-hand date",value:(0,m.jj)(t.target_delivery_date)||"--"},{label:"Delivery country/region",value:(0,ew.Av)(null==t?void 0:t.delivery_country)||"--"},{label:"Quantity range",value:(0,ew.AE)(t.quantity_range)||"--"}],[{label:"Product color",value:(0,ew.Av)(t.color)||"--"},{label:"Product material",value:(0,ew.Av)(r(null==t?void 0:t.product_material))||"--"},{label:"Product size",value:(null==t?void 0:t.product_dimensions)||"--"},{label:"Customization method",value:(0,ew.Av)(null==t?void 0:t.customization_method)||"--"}],[{label:"Quality preference",value:(0,ew.Av)(null==t?void 0:t.product_preference)||"--"},{label:"Packaging",value:(0,ew.Av)(null==t?void 0:t.packaging)||"--"},{label:"Testing requirements",value:(0,ew.Av)(null==t?void 0:t.additional_report_requirement)||"--"},{label:"Additional notes",value:(0,ew.Av)(null==t?void 0:t.notes)||"--"}],[{label:"Reference files & links",isFull:!0,value:(null==t?void 0:t.reference_link_url)?(0,i.jsx)(tG,{fileIds:null==t?void 0:null===(e=t.reference_image_ids)||void 0===e?void 0:e.split(","),links:null==t?void 0:null===(l=t.reference_link_url)||void 0===l?void 0:l.split(","),mode:n}):"--"}]]},[t,n,r]);return(0,i.jsx)(u.kC,{flexDirection:"pc"===n?"rowReverse":"column",className:"gap-5",children:(0,i.jsx)(u.kC,{flexDirection:"column",className:"flex-1 gap-x-5 gap-y-4",children:l.map((e,t)=>(0,i.jsxs)(a.Fragment,{children:[t>0&&(0,i.jsx)(es.i,{}),(0,i.jsx)(u.kC,{flexDirection:"column",className:"flex-1 gap-x-5 gap-y-4",children:e.map(e=>(0,i.jsxs)(u.kC,{flexDirection:"pc"!==n||(null==e?void 0:e.isFull)?"column":"row",className:"gap-x-5 gap-y-2 text-sm text-[#0B0B0B]",children:[(0,i.jsx)("div",{className:"w-[160px] font-semibold",children:e.label}),(0,i.jsx)("div",{className:"",children:e.value})]},e.label))},t)]},t))})})}function tG(e){let{fileIds:t,links:n,mode:r}=e,[l,o]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(null==t?void 0:t.length)&&e8.getFileInfos(t).then(e=>{o(e)})},[t]),(0,i.jsx)(tY,{files:l,links:n,mode:r})}function tY(e){let{files:t=[],links:n,mode:r}=e;return(0,i.jsxs)(u.kC,{className:"flex-wrap gap-2",children:[t.map(e=>(0,i.jsx)(tH,{url:e.file_url,mime_type:e.mime_type,filename:e.filename,className:(0,d.cn)("aspect-square rounded-lg border","pc"===r?"h-[120px] w-[120px]":"",(0,m.CO)(e.mime_type)||"pc"===r?"w-[152px]":"w-full"),mode:r},e.id)),n.map(e=>(0,i.jsx)(tK,{link:e,mode:r},e))]})}function tK(e){let{link:t,mode:n}=e;return(0,i.jsxs)(u.kC,{flexDirection:"pc"===n?"column":"row",alignItems:"pc"===n?"center":"start",className:(0,d.cn)("cursor-pointer gap-x-2 gap-y-3 rounded-lg border border-slate-200","pc"===n?"w-[152px] p-3":"w-full p-2"),onClick:()=>{window.open(t,"_blank")},children:[(0,i.jsx)(u.kC,{className:"h-10 w-10 rounded-lg bg-[#E7E7E7]",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(D,{className:"h-5 w-5"})}),(0,i.jsxs)(u.kC,{flexDirection:"column",alignItems:"pc"===n?"center":"start",className:"w-full flex-1 overflow-hidden",children:[(0,i.jsx)("div",{className:"line-text-ellipsis w-full text-sm font-medium text-[#0B0B0B]",children:t}),(0,i.jsx)("div",{className:"text-sm font-normal text-[#0B0B0BA8]",children:"URL"})]})]})}function tJ(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e;return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-4",children:[(0,i.jsx)(T,{}),(0,i.jsx)(u.kC,{flexDirection:"column",className:"max-h-[320px] gap-4 overflow-y-auto",children:null==n?void 0:null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o})},t))})]})}var t$=n(46882),tX=n(81815);let tQ="/projects/";class t0 extends m.eW{async request(e){let t=await Promise.all(e.map(e=>(0,tX.T)(e))),n=(null==t?void 0:t.map(e=>e.data))||[],i=new Map;return n.forEach(e=>{i.set(this.generateKey(e.id),e),i.set(this.generateKey(e.xid),e)}),i}generateKey(e){return"project:".concat(e)}async getProjectDetail(e){return this.get(e)}async getProjectDetails(e){return Promise.all(e.map(e=>this.get(e)))}constructor(){super(),this.setCacheExpiration(0)}}let t1=new t0;function t3(e){let{node:t,mode:n,isUser:r,isMe:l}=e,[o,s]=(0,a.useState)(null),[c,m]=(0,a.useState)(!0),p=(0,a.useCallback)(async()=>{try{m(!0);let e=await t1.get(t.id);s(e)}finally{m(!1)}},[t.id]);return((0,a.useEffect)(()=>{p()},[p]),c)?(0,i.jsx)(e_,{className:"h-[224px] w-full",theme:"blue"}):o?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(u.kC,{flexDirection:"column",className:(0,d.cn)("gap-5 rounded-2xl bg-white px-4 py-5"),children:[(0,i.jsx)(t2,{data:o}),(0,i.jsx)(t6,{data:o,mode:n}),(0,i.jsx)(u.zx,{size:"lg",className:(0,d.cn)("pc"===n?"w-fit":"w-full"),onClick:()=>window.open("".concat(tQ).concat(o.id),"_blank"),children:"View details"})]})}):(0,i.jsx)(ej,{className:"h-[224px] w-full",onRetry:p})}function t2(e){let{data:t}=e;return(0,i.jsxs)(u.kC,{justifyContent:"spaceBetween",className:"flex-wrap gap-x-1 gap-y-2",children:[(0,i.jsx)(O,{label:t.xid,onClick:()=>window.open("".concat(tQ).concat(t.id),"_blank")}),(0,i.jsx)(t$.k,{statusKey:t.status})]})}function t6(e){let{data:t,mode:n}=e,{parseMaterialsName:r}=(0,tZ.vB)(),l=(0,a.useMemo)(()=>{var e,l,o,s,a,c,u,d,p,f,h;return[[{label:"Project name",value:(0,ew.Av)(t.product_name)||"--"},{label:"Target in-hand date",value:(0,m.jj)(t.target_delivery_date)||"--"},{label:"Delivery country/region",value:(0,ew.Av)(null==t?void 0:t.delivery_country)||"--"},{label:"Quantity range",value:(0,ew.AE)(t.quantity_range)||"--"}],[{label:"Product color",value:(0,ew.Av)(null===(e=t.product_detail)||void 0===e?void 0:e.base_color)||"--"},{label:"Product material",value:(0,ew.Av)(r(null==t?void 0:null===(l=t.product_detail)||void 0===l?void 0:l.material))||"--"},{label:"Product size",value:(0,eu.Xf)(null==t?void 0:t.product_detail.length,null==t?void 0:t.product_detail.width,null==t?void 0:t.product_detail.height)||"--"},{label:"Customization method",value:(0,ew.Av)(null==t?void 0:null===(o=t.product_detail)||void 0===o?void 0:o.customization_method)||"--"}],[{label:"Quality preference",value:(0,ew.Av)(null==t?void 0:null===(s=t.product_additional_info)||void 0===s?void 0:s.product_preference)||"--"},{label:"Packaging",value:(0,ew.Av)(null==t?void 0:null===(a=t.product_detail)||void 0===a?void 0:a.packaging_type)||"--"},{label:"Testing requirements",value:(0,ew.Av)(null==t?void 0:null===(u=t.product_additional_info)||void 0===u?void 0:null===(c=u.additional_report_requirement)||void 0===c?void 0:c.join("\n"))||"--"},{label:"Additional notes",value:(0,ew.Av)(null==t?void 0:null===(d=t.product_additional_info)||void 0===d?void 0:d.notes)||"--"}],[{label:"Reference files & links",isFull:!0,value:(null==t?void 0:null===(p=t.reference_link_urls)||void 0===p?void 0:p.length)?(0,i.jsx)(tY,{files:[],links:null==t?void 0:t.reference_link_urls,mode:n}):"--"},{label:"Design files & links",isFull:!0,value:(null==t?void 0:null===(f=t.client_design_files)||void 0===f?void 0:f.length)||(null==t?void 0:null===(h=t.design_file_urls)||void 0===h?void 0:h.length)?(0,i.jsx)(tY,{files:null==t?void 0:t.client_design_files,links:null==t?void 0:t.design_file_urls,mode:n}):"--"}]]},[t,n,r]);return(0,i.jsx)(u.kC,{flexDirection:"pc"===n?"rowReverse":"column",className:"gap-5",children:(0,i.jsx)(u.kC,{flexDirection:"column",className:"flex-1 gap-x-5 gap-y-4",children:l.map((e,t)=>(0,i.jsxs)(a.Fragment,{children:[t>0&&(0,i.jsx)(es.i,{}),(0,i.jsx)(u.kC,{flexDirection:"column",className:"flex-1 gap-x-5 gap-y-4",children:e.map(e=>(0,i.jsxs)(u.kC,{flexDirection:"pc"!==n||(null==e?void 0:e.isFull)?"column":"row",className:"gap-x-5 gap-y-2 text-sm text-[#0B0B0B]",children:[(0,i.jsx)("div",{className:"w-[160px] font-semibold",children:e.label}),(0,i.jsx)("div",{className:"",children:e.value})]},e.label))},t)]},t))})})}let t4=[{value:"1",label:"\uD83D\uDE20"},{value:"2",label:"\uD83D\uDE41"},{value:"3",label:"\uD83D\uDE10"},{value:"4",label:"\uD83D\uDE03"},{value:"5",label:"\uD83E\uDD29"}];function t5(e){var t,n;let{node:r,mode:l,isUser:o,isMe:s}=e,{messageId:m,interacts:p,chatId:h}=(0,f.fr)(),{trigger:x,isMutating:g}=(0,e7.TR)(),[v,j]=(0,a.useState)((null==p?void 0:null===(n=p.find(e=>"rate_ai"===e.type))||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.level)||null),y=e=>{g||(j(e),x({chat_id:h,message_id:m,type:"rate_ai",data:{level:e}}),c.ZP.success("Feedback received, thank you!"))};return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-3",children:[(0,i.jsx)("div",{children:"Please rate your experiences with Nory:"}),(0,i.jsx)(u.kC,{justifyContent:"center",className:(0,d.cn)("gap-2 px-2 py-2","pc"===l&&"w-[350px]","mobile"===l&&"w-full"),children:t4.map(e=>(0,i.jsx)(u.kC,{alignItems:"center",justifyContent:"center",className:(0,d.cn)("h-10 w-10 cursor-pointer rounded-lg text-[32px] ",v&&"cursor-not-allowed",v&&v===e.value&&"bg-[#423EA2]",!v&&"hover:bg-[#E7E7E7] active:bg-[#423EA2]"),onClick:()=>!v&&y(e.value),children:e.label},e.value))})]})}function t7(e){let{node:t,isUser:n,mode:r,isMe:l}=e;return n?(0,i.jsx)(t8,{className:"cursor-not-allowed",node:t,isUser:n,mode:r,isMe:l}):(0,i.jsx)(t9,{node:t,isUser:n,mode:r})}function t9(e){let{node:t,isUser:n,mode:r,isMe:l}=e,{access:o}=(0,tP.xu)(),{onLoginSuccess:s}=(0,f.fr)();return o?(0,i.jsx)(t8,{className:"cursor-not-allowed",node:t,isUser:n,mode:r,isMe:l}):(0,i.jsx)(tF.LoginModalTrigger,{defaultAction:"signup",className:"inline-block",onLoginSuccess:s,children:(0,i.jsx)(t8,{className:"cursor-pointer underline underline-offset-4",node:t,isUser:n,mode:r,isMe:l})})}function t8(e){var t,n;let{node:r,isUser:l,mode:o,isMe:s,className:a}=e;return(0,i.jsx)("span",{className:(0,d.cn)("px-1 font-semibold",a),children:(null==r?void 0:null===(t=r.children)||void 0===t?void 0:t.length)?null==r?void 0:null===(n=r.children)||void 0===n?void 0:n.map((e,t)=>(0,i.jsx)(nj,{node:e,mode:o,isUser:l,isMe:s},t)):"Create an account"})}function ne(e){var t;let{node:n,mode:r,isUser:l,isMe:o}=e;return(0,i.jsxs)(u.kC,{flexDirection:"column",className:"w-full gap-4",children:[(0,i.jsx)(P,{}),(0,i.jsx)(u.kC,{flexDirection:"column",className:"max-h-[320px] gap-4 overflow-y-auto",children:null==n?void 0:null===(t=n.children)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(nj,{node:e,mode:r,isUser:l,isMe:o})},t))})]})}var nt=n(1429),nn=n(72316),ni=n(48466),nr=n(5308),nl=n(51998);class no extends m.eW{async request(e){let t=await (0,nl.Jy)({ids:e}),n=new Map;return t.data.forEach(e=>{n.set(this.generateKey(e.id),e)}),n}generateKey(e){return"shipment:".concat(e)}async getShipmentDetail(e){return this.get(e)}async getShipmentDetails(e){return Promise.all(e.map(e=>this.get(e)))}constructor(){super(),this.setCacheExpiration(0)}}let ns=new no;function na(e){let{node:t,mode:n,isUser:r,isMe:l}=e,[o,s]=(0,a.useState)(null),[c,m]=(0,a.useState)(!0),p=(0,a.useCallback)(async()=>{try{m(!0);let e=await ns.get(t.id);s(e)}finally{m(!1)}},[t.id]);return((0,a.useEffect)(()=>{p()},[p]),c)?(0,i.jsx)(e_,{className:"h-[224px] w-full",theme:"green"}):o?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(u.kC,{flexDirection:"column",className:(0,d.cn)("rounded-2xl bg-white px-4 py-5","pc"===n?"gap-10":"gap-5"),children:[(0,i.jsx)(nc,{data:o,mode:n}),(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-3",children:[(0,i.jsx)("div",{className:"text-base font-medium text-[#0B0B0B]",children:"Tracking details"}),(0,i.jsx)(es.i,{}),(0,i.jsx)(nu,{data:o,mode:n})]}),(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-5",children:[(0,i.jsxs)("div",{className:"text-base font-medium text-[#0B0B0B]",children:["Shipment Details",(0,i.jsx)(es.i,{className:"mt-3"})]}),(0,i.jsx)(nd,{shipmentDetail:o,mode:n}),(0,i.jsx)(es.i,{}),(0,i.jsxs)(u.kC,{justifyContent:"spaceBetween",className:"text-sm font-semibold text-slate-700",children:[(0,i.jsx)("div",{children:"Total units"}),(0,i.jsx)("div",{children:(0,ew.Ac)(o.total_units_shipped)})]})]})]})}):(0,i.jsx)(ej,{className:"h-[224px] w-full",onRetry:p})}function nc(e){var t,n;let{data:r,mode:l}=e;return(0,i.jsxs)(u.kC,{justifyContent:"spaceBetween",className:"gap-x-1 gap-y-2",flexDirection:"pc"===l?"row":"column",children:[(0,i.jsxs)(u.kC,{className:"gap-x-1 gap-y-2",flexDirection:"pc"===l?"row":"column",children:[(0,i.jsx)(V,{label:r.xid,onClick:()=>window.open("".concat("/shipments/").concat(r.id),"_blank")}),(0,i.jsxs)(u.kC,{className:"gap-x-1",children:[(0,i.jsx)("div",{children:(0,i.jsx)(nn.R,{shippingMethod:r.shipping_method,countryCode:null==r?void 0:null===(n=r.delivery_information)||void 0===n?void 0:null===(t=n.address)||void 0===t?void 0:t.library_country_code})}),(0,i.jsx)("div",{children:(0,i.jsx)(nr._,{status:r.status})})]})]}),(0,i.jsx)("div",{children:(0,i.jsx)(eC,{estimated_delivery_time:r.estimated_delivery_date})})]})}function nu(e){let{data:t,mode:n}=e;return(0,i.jsx)("div",{className:(0,d.cn)("gap-x-10 gap-y-4","pc"===n?"grid grid-cols-2":"flex flex-col"),children:[{label:"Shipment date",text:(0,m.jj)(t.shipping_date)},{label:"International provider",text:t.international_provider},{label:"Tracking number",text:t.tracking_number},{label:"Tracking link",render:()=>(0,i.jsx)(ni.l,{website:t.tracking_link,text:t.tracking_link})}].map(e=>(0,i.jsx)(nt.Z,{label:e.label,text:e.text,render:e.render},e.label))})}function nd(e){let{shipmentDetail:t,mode:n}=e,r=(0,a.useMemo)(()=>{var e;let n=new Map;return null==t||null===(e=t.cartons)||void 0===e||e.forEach(e=>{var i;null===(i=e.items)||void 0===i||i.forEach(e=>{let i="".concat(e.product_id,"-").concat(e.client_order_id,"-").concat(e.product_name,"-").concat(e.product_type);if(n.has(i)){let t=n.get(i);n.set(i,{...t,quantity:String((Number(t.quantity)||0)+(Number(e.quantity)||0)),extra_quantity:String((Number(t.extra_quantity)||0)+(Number(e.extra_quantity)||0))})}else{var r;n.set(i,{...e,thumbnail:null===(r=t.attachment_map)||void 0===r?void 0:r[e.thumbnail]})}})}),Array.from(n.values())},[t]);return(null==r?void 0:r.length)?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.kC,{flexDirection:"column",className:"gap-5",children:r.map((e,t)=>(0,i.jsx)(nm,{cartonItem:e,mode:n},t))})}):null}function nm(e){var t;let{cartonItem:n,mode:l}=e,o=[{content:eb({product_type:n.product_type})},{content:(0,eu.Cd)((null==n?void 0:n.quantity_breakdown)||[])},{content:(0,i.jsx)(u.Qj,{onClick:()=>window.open("".concat(eV,"/").concat(n.client_order_id),"_blank"),children:n.client_order_xid})}];return(0,i.jsxs)(u.kC,{className:"flex gap-x-5 rounded-lg border-slate-100",children:[(0,i.jsx)(r.TinyImage,{src:(null==n?void 0:null===(t=n.thumbnail)||void 0===t?void 0:t.file_url)||"",alt:"product image",className:(0,d.cn)("border-slate-[#E0E0E0] h-[60px] w-[60px] rounded border border-solid","mobile"===l&&"h-[40px] w-[40px]")}),(0,i.jsx)(u.kC,{flexDirection:"column",className:"flex-1",children:(0,i.jsx)(u.kC,{className:"gap-2",children:(0,i.jsx)("div",{className:"flex flex-1 flex-col gap-2",children:(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsxs)(u.kC,{justifyContent:"pc"===l?"spaceBetween":"start",flexDirection:"pc"===l?"row":"column",className:"gap-2 text-sm font-medium text-[#0B0B0B]",children:[null==n?void 0:n.product_name,(0,i.jsx)("div",{children:(0,ew.Ac)(Number((null==n?void 0:n.quantity)||0)+Number((null==n?void 0:n.extra_quantity)||0))})]}),"pc"===l&&(0,i.jsx)(np,{infoList:o}),"mobile"===l&&(0,i.jsxs)(u.kC,{flexDirection:"column",className:"gap-1",children:[(0,i.jsx)(np,{infoList:o.slice(0,2)}),(0,i.jsx)(np,{infoList:o.slice(2)})]})]})})})})]})}function np(e){let{infoList:t}=e,n=t.filter(e=>e.content);return(0,i.jsx)(u.kC,{alignItems:"center",className:"text-sm text-[#0B0B0BA8]",children:n.map((e,t)=>(0,i.jsxs)(a.Fragment,{children:[t>0&&(0,i.jsx)(es.i,{borderTheme:"slate200",className:"mx-1 h-[18px]",direction:"vertical"}),e.content]},t))})}function nf(e){let{node:t,mode:n,isUser:r,isMe:l}=e,o=t.theme,{onSendMessage:s,isThinking:a}=(0,f.fr)();return(0,i.jsxs)(u.kC,{alignItems:"center",className:(0,d.cn)("group/tip-button w-fit cursor-pointer gap-1 px-3 py-2 text-xs font-medium leading-[1.4]",a&&"cursor-not-allowed","text-[#0B0B0B] hover:bg-[#EDEDED] active:bg-[#0B0B0B] active:text-white","highlight"===o&&"active:bg-gradient-to-r active:from-[#1448B8] active:to-[#B882FE]"),onClick:()=>{s({content:t.message||t.innerContent})},children:["highlight"===o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,{className:"h-4 w-4 text-[#0B0B0B]/50 group-active/tip-button:hidden"}),(0,i.jsx)(v,{className:"hidden h-4 w-4 text-[#0B0B0B]/50 group-active/tip-button:block group-active/tip-button:text-white"})]}):(0,i.jsx)(E,{className:"h-4 w-4 text-[#0B0B0B]/50 group-active/tip-button:text-white"}),(0,i.jsx)("span",{className:(0,d.cn)("flex-1","highlight"===o&&"bg-gradient-to-r from-[#1448B8] to-[#B882FE] bg-clip-text text-transparent group-active/tip-button:text-white"),children:t.innerContent})]})}function nh(e){let{node:t,mode:n,isUser:r,isMe:l}=e;return(0,i.jsx)(u.kC,{alignItems:"center",className:(0,d.cn)(""),children:t.innerContent})}function nx(e){let{node:t,mode:n,isUser:r,isMe:l}=e,[s,m]=(0,a.useState)(!1),{onSendMessage:p,isThinking:h}=(0,f.fr)(),x=async e=>{let t=null==e?void 0:e[0];if(t&&!s&&!h){m(!0);try{let e=await (0,o.OE)({filename:t.name,title:t.name,description:t.name,type:"chat_message",mime_type:t.type,file:t});p({content:'<File id="'.concat(e.id,'" name="').concat(t.name,'" mime_type="').concat(e.mime_type,'" />')})}catch(e){c.ZP.error("Error uploading image")}finally{m(!1)}}};return(0,i.jsx)(u.ZD,{accept:t.accept,multiple:!1,onFileChange:x,children:(0,i.jsxs)(u.kC,{alignItems:"center",className:(0,d.cn)("group/tip-button w-fit cursor-pointer gap-1 px-3 py-2 text-xs font-medium leading-[1.4]",h&&"cursor-not-allowed","text-[#0B0B0B] hover:bg-[#EDEDED] active:bg-[#0B0B0B] active:text-white"),children:[(0,i.jsx)(E,{className:"h-4 w-4 text-[#0B0B0B]/50 group-active/tip-button:text-white"}),(0,i.jsx)("span",{className:(0,d.cn)("flex-1"),children:t.innerContent})]})})}function ng(e){let{text:t,delay:n=0,speed:r=30}=e,[l,o]=(0,a.useState)(""),[s,c]=(0,a.useState)(0);return(0,a.useEffect)(()=>{o(""),c(0)},[t]),(0,a.useEffect)(()=>{if(0===s){let e=setTimeout(()=>{c(1)},n);return()=>clearTimeout(e)}if(s>0&&s<=t.length){let e=setTimeout(()=>{o(t.slice(0,s)),c(s+1)},r);return()=>clearTimeout(e)}},[s,t,n,r]),(0,i.jsxs)("span",{children:[l,s>0&&s<=t.length&&(0,i.jsx)("span",{className:"animate-pulse not-italic",children:"|"})]})}function nv(e){let{node:t,mode:n}=e,r=(0,a.useMemo)(()=>{var e;if(!(null==t?void 0:null===(e=t.messages)||void 0===e?void 0:e.length))return[];let n=["Processing your request...",...(null==t?void 0:t.messages)||[]];return[...(null==n?void 0:n.map(e=>"".concat(e)))||[],""]},[t]);return 0===r.length?(0,i.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",className:"h-6 w-full gap-1",children:[(0,i.jsx)("div",{className:"h-3 w-3 animate-[pulse-dot_1.4s_ease-in-out_infinite] rounded-full bg-[#ccc] [animation-delay:0ms]"}),(0,i.jsx)("div",{className:"h-3 w-3 animate-[pulse-dot_1.4s_ease-in-out_infinite] rounded-full bg-[#ccc] [animation-delay:200ms]"}),(0,i.jsx)("div",{className:"h-3 w-3 animate-[pulse-dot_1.4s_ease-in-out_infinite] rounded-full bg-[#ccc] [animation-delay:400ms]"})]}):(0,i.jsxs)(u.kC,{flexDirection:"column",alignItems:"start",justifyContent:"start",className:(0,d.cn)("gap-2","pc"===n?"w-[700px]":"w-full"),children:[(0,i.jsx)("div",{className:"text-sm font-normal leading-[180%] text-[#0B0B0BA8]",children:"Nory is thinking...."}),(0,i.jsx)(u.kC,{flexDirection:"column",alignItems:"start",justifyContent:"center",className:"w-full",children:r.map((e,t)=>(0,i.jsxs)(u.kC,{alignItems:"start",className:(0,d.cn)("relative w-full","pc"===n?"gap-5":"gap-2",t!==r.length-1&&"pb-3"),children:[(0,i.jsxs)("div",{className:"w-3 self-stretch pt-[4px]",children:[(0,i.jsx)("div",{className:(0,d.cn)("absolute bottom-0 left-[5.5px] top-[0] w-[1px] bg-[#E0E0E0]",0===t&&"top-[4px]",t===r.length-1&&"h-[4px]")}),(0,i.jsx)(S,{className:"relative"})]}),(0,i.jsx)("div",{className:"flex-1 text-sm font-medium italic leading-[140%] text-[#0B0B0BA8]",children:e?(0,i.jsx)(ng,{text:e,delay:10*t,speed:20}):(0,i.jsx)("div",{className:"opacity-20",children:(0,i.jsx)(e_,{theme:"lighter",className:"h-3 w-full min-w-[200px]"})})})]},t))})]})}function nj(e){let{node:t,mode:n,isUser:r,isMe:o}=e;switch(t.node_type){case"text":return(0,i.jsx)(tg,{node:t,mode:n,isUser:r,isMe:o});case"image":return(0,i.jsx)(er,{node:t,mode:n,isUser:r,isMe:o});case"file":return(0,i.jsx)(tB,{node:t,mode:n,isUser:r,isMe:o});case"color-picker":return(0,i.jsx)(Q,{node:t,mode:n,isUser:r,isMe:o});case"file-uploader":return(0,i.jsx)(et,{node:t,mode:n,isUser:r,isMe:o});case"select":return(0,i.jsx)(th,{node:t,mode:n,isUser:r,isMe:o});case"multi-selector":return(0,i.jsx)(eT,{node:t,mode:n,isUser:r,isMe:o});case"option":return(0,i.jsx)(eq,{node:t,mode:n,isUser:r,isMe:o});case"spu":return(0,i.jsx)(tm,{node:t,mode:n,isUser:r,isMe:o});case"spu-group":return(0,i.jsx)(tp,{node:t,mode:n,isUser:r,isMe:o});case"order-group":return(0,i.jsx)(eZ,{node:t,mode:n,isUser:r,isMe:o});case"order":return(0,i.jsx)(eY,{node:t,mode:n,isUser:r,isMe:o});case"invoice-group":return(0,i.jsx)(el,{node:t,mode:n,isUser:r,isMe:o});case"invoice":return(0,i.jsx)(eE,{node:t,mode:n,isUser:r,isMe:o});case"shipment-group":return(0,i.jsx)(ne,{node:t,mode:n,isUser:r,isMe:o});case"shipment":return(0,i.jsx)(na,{node:t,mode:n,isUser:r,isMe:o});case"project-group":return(0,i.jsx)(tJ,{node:t,mode:n,isUser:r,isMe:o});case"project":return(0,i.jsx)(t3,{node:t,mode:n,isUser:r,isMe:o});case"project-confirm":case"product-confirm":case"project-summary":case"product-summary":return(0,i.jsx)(tR,{node:t,mode:n,isUser:r,isMe:o});case"update-account":return(0,i.jsx)(tj,{node:t,mode:n,isUser:r,isMe:o});case"website-selector":return(0,i.jsx)(t_,{node:t,mode:n,isUser:r,isMe:o});case"website-item":return(0,i.jsx)(ty,{node:t,mode:n,isUser:r,isMe:o});case"brand-selector":return(0,i.jsx)($,{node:t,mode:n,isUser:r,isMe:o});case"brand":return(0,i.jsx)(l,{node:t,mode:n,isUser:r,isMe:o});case"brand-color":return(0,i.jsx)(G,{node:t,mode:n,isUser:r,isMe:o});case"login":return(0,i.jsx)(tz,{node:t,mode:n,isUser:r,isMe:o});case"register":return(0,i.jsx)(t7,{node:t,mode:n,isUser:r,isMe:o});case"markdown":return(0,i.jsx)(ez,{node:t,mode:n,isUser:r,isMe:o});case"rich-text":return(0,i.jsx)(eQ,{node:t,mode:n,isUser:r,isMe:o});case"tip":return(0,i.jsx)(nh,{node:t,mode:n,isUser:r,isMe:o});case"tip-button":return(0,i.jsx)(nf,{node:t,mode:n,isUser:r,isMe:o});case"tip-upload":return(0,i.jsx)(nx,{node:t,mode:n,isUser:r,isMe:o});case"button":return(0,i.jsx)(tw,{node:t,mode:n,isUser:r,isMe:o});case"thinking":return(0,i.jsx)(nv,{node:t,mode:n,isUser:r,isMe:o});case"rating":return(0,i.jsx)(t5,{node:t,mode:n,isUser:r,isMe:o});case"ghost":return null;case"image-select":return(0,i.jsx)(tU,{node:t,mode:n,isUser:r,isMe:o});case"image-item":return(0,i.jsx)(tD,{node:t,mode:n,isUser:r,isMe:o});case"category-tree-selector":return(0,i.jsx)(tC,{node:t,mode:n,isUser:r,isMe:o});default:return(0,i.jsx)(tv,{node:t,mode:n,isUser:r,isMe:o})}}},20689:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(27573),r=n(17379),l=n(74769),o=n(58602),s=n(57908),a=n(7653),c=n(2216),u=n(83807);function d(e){let{open:t,onOpenChange:n,children:d,content:m,footer:p,title:f,needFooter:h=!0,className:x}=e,g=(0,r.T)("common");function v(){n(!1)}return(0,i.jsx)(l.u,{appear:!0,show:t,as:a.Fragment,children:(0,i.jsxs)(o.V,{as:"div",className:"relative z-[9999]",onClose:v,children:[(0,i.jsx)(l.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"fixed inset-0 bg-black/60"})}),(0,i.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,i.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,i.jsx)(l.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,i.jsxs)(o.V.Panel,{className:(0,s.Z)(" w-full max-w-md transform overflow-hidden rounded-lg bg-white px-6 py-5 text-left align-middle text-sm shadow-xl transition-all ",x),children:[!!f&&(0,i.jsx)("div",{className:"text-xl font-medium leading-6",children:(0,i.jsxs)(c.kC,{className:"justify-between",alignItems:"start",children:[(0,i.jsx)("span",{children:f}),(0,i.jsx)(u.CloseIcon,{className:"cursor-pointer text-slate-400",onClick:v})]})}),d||(0,i.jsx)("div",{className:"mt-2 text-sm",children:m}),p||h&&(0,i.jsx)(c.kC,{alignItems:"center",justifyContent:"end",className:"mt-3",children:(0,i.jsx)(c.zx,{size:"md",onClick:()=>v(),className:"bg-indigo-400 px-2 py-1 text-sm focus:!outline-none focus:!ring-0",children:g("got_it")})})]})})})})]})})}},11739:function(e,t,n){"use strict";n.d(t,{s:function(){return s}});var i=n(27573),r=n(17379),l=n(57908);n(7653);var o=n(2216);function s(e){let{onConfirm:t,visible:n,toggleModal:s,title:a,subTitle:c,cancelText:u="",confirmText:d="",canConfirm:m=!0,needCancelButton:p=!0,confirmVariant:f="primary",children:h,isLoading:x,noFooter:g=!1,className:v,onCancel:j,titleClassName:y,customFooter:_,noCloseButton:w}=e,b=(0,r.T)("common");return(0,i.jsxs)(o.u_,{open:n,onClose:s,children:[(0,i.jsx)(o.u_.Header,{className:"gap-x-3",noCloseButton:w,children:a&&(0,i.jsx)("div",{className:(0,l.Z)(y,"text-xl font-medium leading-6 text-gray-700"),children:a})}),(0,i.jsxs)("div",{className:"overflow-x-auto max-md:max-h-[80vh]",children:[(0,i.jsx)("div",{className:(0,l.Z)("text-sm font-normal text-slate-700 max-md:max-w-[80vw]",v),children:c}),h]}),!g&&(0,i.jsxs)(o.u_.Footer,{children:[p&&(0,i.jsx)(o.zx,{className:"rounded-lg",size:"lg",variant:"secondary",onClick:()=>{j&&j(),s()},disabled:x,children:u||b("cancel")}),(0,i.jsx)(o.zx,{className:"ml-3 rounded-lg",size:"lg",type:"submit",variant:f,disabled:!m||x,onClick:t,children:x?"Loading...":d||b("confirm")})]}),_&&(0,i.jsx)(o.u_.Footer,{children:_})]})}},82296:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var i=n(27573),r=n(80733);function l(e){let{className:t="",absolute:n=!1,half:l=!1,borderTheme:o="slate200",direction:s="horizontal"}=e,a="horizontal"===s;return(0,i.jsx)("div",{className:(0,r.cn)({"h-[1px] w-full":a,"h-full w-[1px]":!a,"absolute bottom-0 left-0 z-0":n,"scale-y-[0.5]":l,"bg-slate-100":"slate100"===o,"bg-slate-200":"slate200"===o,"bg-[#E0E0E0]":"grey"===o,"bg-white":"white"===o},t)})}},42295:function(e,t,n){"use strict";n.d(t,{b:function(){return a},i:function(){return c}});var i=n(27573),r=n(17379),l=n(49784),o=n(2216),s=n(640);async function a(e,t){if(e)try{let n=await fetch(e),i=await n.blob(),r=document.createElement("a");r.download="".concat(t);let l=URL.createObjectURL(i);r.href=l,r.click(),r.remove(),window.URL.revokeObjectURL(l)}catch(e){l.ZP.error("Download failed")}}function c(e){let{open:t,onClose:n,onDownload:l,url:c,filename:u}=e,d=(0,r.T)("common");return(0,i.jsx)(s.Y,{open:t,onClose:n,children:(0,i.jsxs)("div",{className:"text-center text-white",children:[(0,i.jsx)("div",{className:"text-[32px] font-semibold",children:d("could_not_preview_this_view")}),(0,i.jsx)(o.zx,{startIcon:(0,i.jsx)(o._8,{}),size:"lg",className:"mx-auto mt-9 shrink-0 overflow-hidden !border-none !outline-0 !ring-0",autoFocus:!1,onClick:()=>{if(!l){c&&a(c,u||"");return}l()},children:d("download")})]})})}},75565:function(e,t,n){"use strict";n.d(t,{$_:function(){return g},H3:function(){return y},I8:function(){return j},N4:function(){return w},sB:function(){return _}});var i=n(27573),r=n(57908),l=n(46161),o=n.n(l),s=n(69389);n(7653);var a=n(2216),c=n(49846),u=n(60052),d=n(42295),m=n(48296),p=n(83807),f=n(78949),h=n(99510),x=n(39747);function g(e){let{children:t,onClick:n,className:l}=e;return(0,i.jsx)("div",{className:(0,r.Z)("flex h-full items-center justify-center",l),onClick:n,children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"70",height:"80",viewBox:"0 0 42 49",fill:"none",children:(0,i.jsx)("path",{d:"M40.7612 11.1399L31.1612 1.53986C31.0897 1.463 31.003 1.40194 30.9066 1.36061C30.8101 1.31927 30.7061 1.29858 30.6012 1.29986H7.28917C6.47148 1.30406 5.68848 1.63076 5.11027 2.20896C4.53207 2.78716 4.20538 3.57017 4.20117 4.38786V19.6999C4.20117 19.912 4.28546 20.1155 4.43549 20.2655C4.58552 20.4156 4.789 20.4999 5.00117 20.4999C5.21335 20.4999 5.41683 20.4156 5.56686 20.2655C5.71689 20.1155 5.80117 19.912 5.80117 19.6999V4.38786C5.80117 3.99322 5.95794 3.61474 6.237 3.33569C6.51605 3.05663 6.89453 2.89986 7.28917 2.89986H29.8012V11.6999C29.8012 11.912 29.8855 12.1155 30.0355 12.2655C30.1855 12.4156 30.389 12.4999 30.6012 12.4999H39.4012V44.6119C39.4012 45.0065 39.2444 45.385 38.9653 45.664C38.6863 45.9431 38.3078 46.0999 37.9132 46.0999H7.28917C6.89453 46.0999 6.51605 45.9431 6.237 45.664C5.95794 45.385 5.80117 45.0065 5.80117 44.6119V40.4999C5.80117 40.2877 5.71689 40.0842 5.56686 39.9342C5.41683 39.7841 5.21335 39.6999 5.00117 39.6999C4.789 39.6999 4.58552 39.7841 4.43549 39.9342C4.28546 40.0842 4.20117 40.2877 4.20117 40.4999V44.6119C4.20538 45.4296 4.53207 46.2126 5.11027 46.7908C5.68848 47.369 6.47148 47.6957 7.28917 47.6999H37.9132C38.7309 47.6957 39.5139 47.369 40.0921 46.7908C40.6703 46.2126 40.997 45.4296 41.0012 44.6119V11.6999C41.0025 11.5949 40.9818 11.4909 40.9404 11.3945C40.8991 11.298 40.838 11.2113 40.7612 11.1399ZM31.4012 4.03586L38.2652 10.8999H31.4012V4.03586Z",className:"fill-brand-primary-400"})}),(0,i.jsx)("div",{className:"bg-brand-primary-400 absolute bottom-[18px] left-0 rounded-[4px] px-1 py-1 text-[18px] leading-[1] text-white",children:(0,i.jsx)("div",{className:"uppercase",children:t})})]})})}function v(e,t){let n=e.split("."),i=e.split(".")[n.length-1]||"",r=document.createElement("a");r.download="".concat(t||"Wayo",".").concat(i),r.target="_blank",r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function j(e){let t=null==e?void 0:e.split(".");return(null==e?void 0:e.split(".")[(null==t?void 0:t.length)-1])||"unknown"}function y(e){let{url:t,title:n}=e,r=j(t),[l,o]=(0,c.OT)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,{onClick:()=>{if((0,u.ms)(r)){v(t,n||"");return}o()},className:"cursor-pointer",children:r}),l&&(0,i.jsx)(d.i,{open:l,onClose:()=>{o()},url:t,filename:n})]})}function _(e){let{className:t,title:n,url:l,mime_type:s,children:g,description:_,onCheck:w,checked:b,created_at:C,filename:k}=e,[N,M]=(0,c.OT)(),E=(0,u.CO)(s||"unknow"),[I,L]=(0,c.OT)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.kC,{className:(0,r.Z)("relative w-[188px] rounded-md border border-gray-200 bg-gray-50",t),flexDirection:"column",children:[(0,i.jsxs)("div",{className:"hover:bg-slate-0 group flex w-full justify-between rounded-t-md border-b border-gray-200 bg-white px-2 py-2",children:[w&&(0,i.jsx)(a.XZ,{checked:b,onChange:()=>{w(!b)}}),(0,i.jsx)("div",{className:"mx-2 flex-1 overflow-hidden text-ellipsis whitespace-nowrap  text-xs font-medium text-gray-700",children:(0,i.jsx)(x.S,{messageInfo:n,children:(0,i.jsx)("abbr",{className:"block w-full overflow-hidden text-ellipsis whitespace-nowrap no-underline",title:n,children:n})})}),g||(0,i.jsx)(m.L,{options:[{title:"Preview",value:"preview",icon:(0,i.jsx)(p.EyeIcon,{})}],onSelect:e=>{if("preview"===e.value){if(E){M();return}if(!l)return;let e=j(l);if((0,u.ms)(e)){v(l,n);return}L()}},children:(0,i.jsx)(p.DotsHorizontalIcon,{})})]}),(0,i.jsxs)("div",{className:"group relative flex w-full flex-1 cursor-pointer flex-col overflow-hidden rounded-b-md",children:[(0,i.jsx)(a.kC,{className:"static h-[128px] object-contain",justifyContent:"center",alignItems:"center",children:E?(0,i.jsx)(f.TinyImage,{unoptimized:!0,onClick:()=>{M()},src:l||"",alt:n||"preview",className:"static h-[128px] w-full object-contain"}):(0,i.jsx)(y,{url:l||"",title:n})}),_&&(0,i.jsx)("div",{className:"absolute bottom-0 z-10 w-full translate-y-[100%] border-t border-slate-100 bg-white px-3 py-2 text-[0.625rem] text-slate-400 transition-transform group-hover:block group-hover:translate-y-0",children:_}),C&&(0,i.jsx)("div",{className:"border-t border-slate-100 bg-white px-3 py-2 text-xs font-medium text-slate-500",children:o()(C).format("MMMM D, YYYY hh:mm a")})]})]}),E&&N&&(0,i.jsx)(h.W,{open:N,onClose:M,src:l||"",className:"w-[350px]"}),I&&(0,i.jsx)(d.i,{open:I,onClose:L,url:l,filename:k||n})]})}function w(e){let{isFeatured:t,onDelete:n,onEdit:r,...l}=e,o=(0,s.useTranslations)("files");return(0,i.jsx)(_,{isFeatured:t,...l,children:(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(p.DeleteIcon,{className:"hidden cursor-pointer text-base text-red-500 group-hover:block max-md:block",onClick:n}),(0,i.jsxs)(a.v2,{children:[(0,i.jsx)(a.j2,{children:(0,i.jsx)(p.DotsHorizontalIcon,{})}),(0,i.jsx)(a.qy,{children:(0,i.jsx)(a.sN,{className:"rounded-md px-4 py-2 hover:bg-gray-50",as:"div",children:(0,i.jsxs)("button",{className:"flex w-full items-center gap-2 text-gray-700",onClick:r,type:"button",children:[(0,i.jsx)(p.PencilIcon,{className:"text-gray-700"}),(0,i.jsx)("div",{className:"text-sm font-normal",children:o("edit")})]})})})]})]})})}},87723:function(e,t,n){"use strict";n.d(t,{G:function(){return a},W:function(){return s}});var i=n(27573),r=n(7653),l=n(19616),o=n(33700);function s(e){return!!e&&Object.entries(e).some(e=>{let[t]=e;return l.sq[t]})}function a(e){let{quantityBreakdown:t=[],showQuantity:n=!0,className:s}=e,a=(0,o.useLibraryValues)().size,c=null==a?void 0:a.getValueNameMap(),u=(0,r.useMemo)(()=>{let e=[];return null==t||t.forEach(t=>{let{stock_variant:n,quantity:i}=t;if(n){var r;null===(r=Object.entries(n))||void 0===r||r.filter(e=>{let[t]=e;return l.sq[t]}).forEach(t=>{var n;let[r,l]=t;e.push({value:(null==c?void 0:null===(n=c[l.value])||void 0===n?void 0:n.name)||l.value.toUpperCase(),quantity:i})})}}),e},[t,c]);return u.length?(0,i.jsx)("div",{className:s,children:u.map(e=>n?"".concat(e.value,"-").concat(e.quantity):e.value).join(", ")}):null}},78949:function(e,t,n){"use strict";n.d(t,{TinyImage:function(){return c}});var i=n(27573),r=n(65198),l=n(47013),o=n(65880),s=n(7653);let a={error:r.Z,default:l.Z};function c(e){let{src:t,alt:n,objectFit:r="cover",placeImageType:l="default",onError:c,...u}=e,[d,m]=(0,s.useState)(t),p=(0,s.useCallback)(e=>{c?c(e):m("")},[c]);return(0,s.useEffect)(()=>{m(t)},[t]),(0,i.jsx)(o.default,{src:d||a[l],alt:n,width:0,height:0,...u,onError:p,unoptimized:!0,objectFit:r})}},1429:function(e,t,n){"use strict";n.d(t,{K:function(){return o},Z:function(){return s}});var i=n(27573),r=n(57908);n(7653);var l=n(48466);function o(e){let{referLinks:t}=e;return(null==t?void 0:t.length)?null==t?void 0:t.map((e,t)=>(0,i.jsx)("div",{className:"mb-2 last:mb-0",children:(0,i.jsx)(l.l,{website:e,text:e})},t)):"--"}function s(e){let{label:t,text:n,className:l,style:o,render:s,renderLabel:a,customRender:c}=e;return(0,i.jsxs)("div",{className:(0,r.Z)("text-xs text-slate-400",{"flex-1":!l},l),style:o,children:[a?a():(0,i.jsx)("div",{children:t}),c?c():(0,i.jsx)("div",{className:"mt-1 min-h-[15px] overflow-hidden text-xs font-medium text-slate-900",children:s?s():n||"--"})]})}},75259:function(e,t,n){"use strict";n.r(t),n.d(t,{AccessWrapper:function(){return f},LoginModal:function(){return m},LoginModalTrigger:function(){return p},LoginModalTriggerRedirect:function(){return h},useAuthRouteRedirect:function(){return x}});var i=n(27573),r=n(43404),l=n(61027),o=n(57908),s=n(71250),a=n(20582),c=n(67754),u=n(7653),d=n(2216);let m=(0,a.default)(()=>Promise.all([n.e(9527),n.e(9389),n.e(4302),n.e(3835),n.e(9784),n.e(5668),n.e(5249),n.e(4617),n.e(2262)]).then(n.bind(n,12262)).then(e=>e.LoginModalInner),{loadableGenerated:{webpack:()=>[12262]},ssr:!1});function p(e){let{children:t,defaultAction:n="login",onLoginSuccess:r,className:a,needCloseIcon:c=!0,redirectUrl:d,defaultVisible:p=!1,onClick:f}=e,[h,x]=(0,u.useState)(p),{access:g}=(0,l.xu)(),v=(0,s.tv)();return(0,u.useEffect)(()=>{h&&g&&x(!1)},[g,x,h]),(0,i.jsxs)("div",{className:(0,o.Z)(a),onClick:f,children:[t&&(0,i.jsx)("div",{onClick:()=>{g||x(!0)},children:t}),(0,i.jsx)(m,{defaultAction:n,visible:h,needCloseIcon:c,toggleModal:()=>x(!1),onLoginSuccess:()=>{x(!1),d&&v.push(d),null==r||r()}})]})}function f(e){let{children:t,onAuthorized:n,className:o}=e;return(0,i.jsx)(d.tF,{children:(0,i.jsx)(()=>{let{access:e}=(0,l.xu)();return e?(0,i.jsx)("div",{className:o,onClick:async()=>{n((await (0,r.nE)()).data)},children:t}):(0,i.jsx)(p,{onLoginSuccess:async()=>{n((await (0,r.nE)()).data)},className:o,children:t})},{})})}function h(){let e=(0,c.useSearchParams)().get("redirectTo");return(0,i.jsx)(p,{redirectUrl:e,defaultVisible:!!e})}function x(){let e=(0,s.tv)();return{redirect(t){e.push(t?"/?redirectTo=".concat(t):"/")}}}},51790:function(e,t,n){"use strict";n.d(t,{A:function(){return u},y:function(){return d}});var i=n(27573),r=n(10124),l=n(57908),o=n(67754);n(7653);var s=n(2216),a=n(82296),c=n(39747);function u(e){let{items:t,renderItem:n,render:u,getLink:d,defaultText:m="--",target:p="_self",label:f,type:h="xid"}=e,x=null==t?void 0:t.length,g=(0,o.useRouter)(),v=(e,t)=>{e.stopPropagation(),e.preventDefault(),t&&("_blank"===p?window.open(t):g.push(t))};if(!x)return m;if(1===x){let e=null==d?void 0:d(null==t?void 0:t[0],0);return e?(0,i.jsx)(r.rU,{target:p,href:e,onClick:t=>v(t,e),onMouseUp:t=>v(t,e),children:u(t)}):u(t)}return(0,i.jsx)(c.a,{type:h,label:f,items:t,contentClassName:"p-0 bg-white",customRender:(e,t)=>{let o=null==d?void 0:d(e,t);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.kC,{flexDirection:"column",className:(0,l.Z)("w-fit px-4 py-2",{"hover:bg-slate-50":!!o,"text-nowrap":"xid"==h}),children:o?(0,i.jsx)(r.rU,{target:p,href:o,onClick:e=>v(e,o),onMouseUp:e=>v(e,o),children:n(e,t)}):(0,i.jsx)("span",{children:n(e,t)})}),t<x&&(0,i.jsx)(a.i,{})]})}})}function d(e){let{children:t}=e;return(0,i.jsx)("div",{className:"h-4 w-4 rounded-full bg-blue-400 text-center text-[10px] leading-[16px] text-white",children:t})}},23222:function(e,t,n){"use strict";n.d(t,{CountryCodeProvider:function(){return d},n:function(){return m}});var i=n(27573),r=n(11191),l=n(7653),o=n(72108),s=n(50966),a=n(40112);let[c,u]=(0,o.bo)();function d(e){var t;let{children:n}=e,{ua:o}=(0,s.useAgentInfo)(),c=o.cookieCountryCode||o.geoCountryCode||a.rs,[d,m]=(0,l.useState)(c),{data:p}=(0,r.fG)(),f=null==p?void 0:null===(t=p.data)||void 0===t?void 0:t.country_codes,h=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!f||0===f.length)return;let n=f.includes(e)?e:a.rs,i=new Date;i.setMonth(i.getMonth()+1),document.cookie="countryCode=".concat(n,";expires=").concat(i.toUTCString(),";path=/"),m(n),n!==e&&t&&window.location.reload()},[f,m]),x=(0,l.useCallback)(e=>{h(e),window.location.reload()},[h]);return(0,l.useEffect)(()=>{c&&h(c,!0)},[c,h]),(0,i.jsx)(u.Provider,{value:{countryCode:d,updateCountryCode:x},children:n})}function m(){return c()}},55668:function(e,t,n){"use strict";n.d(t,{K:function(){return d}});var i=n(27573),r=n(65198),l=n(47013),o=n(57908),s=n(65880),a=n(7653),c=n(83807);let u={error:r.Z,default:l.Z};function d(e){let{src:t,alt:n,objectFit:r="cover",retry:l=!0,placeImageType:d="default",maxRetryTime:m=6e4,onError:p,isLoading:f,className:h,loadingNode:x,...g}=e,[v,j]=(0,a.useState)(t),[y,_]=(0,a.useState)(0),[w,b]=(0,a.useState)(!0),C=(0,a.useRef)(0),k=(0,a.useRef)(null);return(0,a.useEffect)(()=>{b(!0),j(t),_(0)},[t,j]),(0,i.jsxs)("div",{className:(0,o.Z)(h,"relative overflow-hidden bg-white"),children:[(f||w)&&(0,i.jsxs)("div",{className:"absolute flex h-full w-full flex-col items-center justify-center bg-white",children:[(0,i.jsx)(c.LoadingIcon,{className:"h-6 w-6 animate-spin text-indigo-400 will-change-transform"}),x]}),v?(0,i.jsx)(s.default,{src:v,alt:n,width:0,height:0,className:"h-full w-full",...g,onError:p||(()=>{if(!l){j("");return}if(0===y&&(C.current=Date.now()),Date.now()-C.current>m)return;b(!0);let e=y+1;k.current=setTimeout(()=>{_(e=>e+1),clearTimeout(k.current),j("".concat(t,"?retry=").concat(y))},(e>5?5:e)*100)}),unoptimized:!0,onLoad:()=>{setTimeout(()=>{_(0),b(!1)},10)},objectFit:r},"view-image"):(0,i.jsx)(s.default,{src:u[d],alt:n,width:0,height:0,className:"m-auto mt-[25%] h-[50%] w-[50%]",...g,unoptimized:!0},"retry-image")]})}},640:function(e,t,n){"use strict";n.d(t,{E:function(){return d},Y:function(){return u}});var i=n(27573),r=n(17379),l=n(58602),o=n(57908),s=n(7653),a=n(2216),c=n(83807);function u(e){let{open:t,onClose:n,children:r,footer:a,needCloseIcon:u=!0,className:d,needBlurClose:m=!0}=e,p=(0,s.useRef)(null);return(0,i.jsx)(l.V,{open:t,onClose:m?n:()=>{},className:"relative z-[99999]",initialFocus:p,children:(0,i.jsxs)("div",{className:(0,o.Z)("fixed inset-0 flex w-screen flex-col items-center justify-center bg-black/60 p-4",d),children:[u&&(0,i.jsx)("span",{onClick:n,children:(0,i.jsx)(c.CloseIcon,{className:"fixed right-8 top-8 h-8 w-8 cursor-pointer text-white"})}),(0,i.jsxs)(l.V.Panel,{onDoubleClick:e=>{e.preventDefault()},children:[r,a]})]})})}function d(e){let{open:t,onClose:n,children:l,onConfirm:s,title:d,confirmDisabled:m=!1,confirmVariant:p="primary",confirmText:f,customFooter:h,className:x,titleClassName:g,needBlurClose:v=!0,needCustomPanel:j=!1,footerClassName:y,cancelText:_}=e,w=(0,r.T)("common");return(0,i.jsx)(u,{needBlurClose:v,open:t,onClose:n,needCloseIcon:!1,children:(0,i.jsxs)("div",{className:(0,o.Z)("relative rounded-lg bg-white",j?null:"w-[436px] px-6 pb-5 pt-7",x),onClick:e=>{e.stopPropagation()},children:[(0,i.jsx)("span",{onClick:n,className:"absolute right-5 top-7",children:(0,i.jsx)(c.CloseIcon,{className:"h-4 w-4 cursor-pointer text-slate-500"})}),(0,i.jsx)("div",{className:(0,o.Z)("mb-5 text-xl font-medium text-slate-700",g),children:d}),l,h||(0,i.jsxs)(a.kC,{justifyContent:"end",className:(0,o.Z)("mt-5 gap-x-3",y),children:[(0,i.jsx)(a.zx,{variant:"secondary",onClick:()=>{t&&n()},tabIndex:-1,size:"lg",children:_||w("cancel")}),(0,i.jsx)(a.zx,{onClick:s,disabled:m,variant:p,size:"lg",children:f||w("confirm")})]})]})})}},99510:function(e,t,n){"use strict";n.d(t,{W:function(){return d},e:function(){return m}});var i=n(27573),r=n(57908),l=n(7653),o=n(2216),s=n(49846),a=n(83807),c=n(78949),u=n(640);function d(e){let{open:t,onClose:n,src:s,className:d}=e,[m,p]=(0,l.useState)(1);return(0,l.useEffect)(()=>{p(1)},[t]),(0,i.jsx)(u.Y,{open:t,onClose:n,footer:(0,i.jsxs)(o.kC,{className:"absolute bottom-4 left-1/2 z-10 mx-auto -translate-x-1/2 rounded-[100px] bg-black px-8 py-3",children:[(0,i.jsx)("div",{className:m>1?"cursor-pointer text-white":"cursor-not-allowed text-slate-300",onClick:()=>{m<=1||p(e=>e-.1)},children:(0,i.jsx)(a.MinusCircleIcon,{})}),(0,i.jsx)("div",{className:"ml-5 cursor-pointer",onClick:()=>{p(e=>e+.1)},children:(0,i.jsx)(a.PlusCircleIcon,{})})]}),children:(0,i.jsx)(c.TinyImage,{alt:"preview",src:s,style:{transform:"scale(".concat(m,")")},className:(0,r.Z)("select-none object-cover transition-transform will-change-transform",d||"w-[350px]")})})}function m(e){let{src:t,className:n,...l}=e,[o,a]=(0,s.OT)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.TinyImage,{unoptimized:!0,src:t,onClick:()=>{o||a()},className:(0,r.Z)("cursor-pointer",n),...l}),o&&(0,i.jsx)(d,{onClose:a,open:o,src:t})]})}},49556:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var i=n(27573),r=n(57908),l=n(7653),o=n(2216),s=n(80733),a=n(83807);function c(e){let{theme:t,children:n,className:c,needClosed:u=!0,iconAlign:d="center",closeAlign:m="center",needRounded:p=!0,showIcon:f=!0,onOpenChange:h,iconClassName:x}=e,g={plain:(0,i.jsx)(a.InformationCircleIcon,{className:(0,s.cn)("text-blue-400",x)}),info:(0,i.jsx)(a.InformationCircleIcon,{className:(0,s.cn)("text-blue-400",x)}),warning:(0,i.jsx)(a.WarningIcon,{className:(0,s.cn)("text-yellow-400",x)}),success:(0,i.jsx)(a.SuccessIcon,{className:(0,s.cn)(x)}),error:(0,i.jsx)(a.ErrorCircleIcon,{className:(0,s.cn)(x)})},[v,j]=(0,l.useState)(!1);return v?null:(0,i.jsxs)(o.kC,{className:(0,r.Z)("gap-x-2 border px-4 py-3",{"bg-blue-0 border-blue-100 text-blue-700":"info"===t,"bg-yellow-0 border-yellow-100 text-yellow-700":"warning"===t,"bg-teal-0 border-teal-100 text-teal-700":"success"===t,"bg-red-0 border-red-100 text-red-700":"error"===t,"border-[#E0E0E0] bg-[#F6F6F6] text-slate-900":"plain"===t,"rounded-lg":p},c),alignItems:"center",children:[f&&(0,i.jsx)("div",{className:(0,s.cn)({"self-start":"start"===d,"self-end":"end"===d,"self-center":"center"===d,"self-stretch":"stretch"===d},x),children:g[t]}),(0,i.jsx)("div",{className:"flex-1 text-sm",children:n}),u&&(0,i.jsx)("span",{onClick:()=>{null==h||h(!1),j(!0)},className:(0,r.Z)({"self-start":"start"===m,"self-end":"end"===m,"self-center":"center"===m,"self-stretch":"stretch"===m}),children:(0,i.jsx)(a.CloseIcon,{className:"cursor-pointer"})})]})}},39747:function(e,t,n){"use strict";n.d(t,{S:function(){return p},a:function(){return f}});var i=n(27573),r=n(57908),l=n(7653),o=n(2216),s=n(80733),a=n(72108),c=n(20689),u=n(83807),d=n(51790),m=n(70020);function p(e){let{messageInfo:t,children:n,className:d,side:m="bottom",align:p="start",sideOffset:f=2,needDefaultColor:h=!0,customTip:x,showArrow:g,contentClassName:v,onClick:j,useModalInMobile:y=!0}=e,[_,w]=(0,l.useState)(!1),{width:b}=(0,a.dz)(),C=x||t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.pn,{delayDuration:0,children:(0,i.jsxs)(o.u,{children:[(0,i.jsx)(o.aJ,{asChild:!0,children:(0,i.jsx)("div",{className:(0,s.cn)("cursor-pointer overflow-hidden",{"text-slate-400":h},d),onClick:()=>{w(!0)},children:n||(0,i.jsx)(u.InformationCircleIcon,{})})}),(0,i.jsxs)(o._v,{side:m,sideOffset:f,align:p,className:(0,r.Z)("bg-slate-0 z-60 px-4 py-3 text-xs text-slate-500",v),onClick:j,children:[(0,i.jsx)("div",{className:"whitespace-normal font-normal",children:C}),g&&(0,i.jsx)(o.Ce,{className:"fill-white"})]})]})}),b<768&&y&&(0,i.jsx)(c.Z,{open:_,onOpenChange:w,content:C})]})}function f(e){let{label:t,items:n,customRender:l,customTip:o,type:a="xid",contentClassName:c,...u}=e;return 1===n.length?null==l?void 0:l(n[0],0):(0,i.jsx)(p,{...u,side:"bottom",customTip:o||(null==n?void 0:n.map((e,t)=>null==l?void 0:l(e,t))),contentClassName:(0,s.cn)("p-0",c),children:"xid"===a?(0,i.jsx)("span",{children:(0,i.jsx)(m.zc,{themeType:"blue",label:t,icon:(0,i.jsx)(d.y,{children:n.length})})}):(0,i.jsxs)("div",{className:(0,r.Z)("flex w-full gap-1"),children:[(0,i.jsx)(d.y,{children:n.length}),(0,i.jsx)("div",{className:"flex-1 overflow-hidden text-ellipsis",children:t})]})})}},70020:function(e,t,n){"use strict";n.d(t,{lz:function(){return s},zc:function(){return o}});var i=n(27573);n(70986);var r=n(57908);n(7653);var l=n(2216);function o(e){let{label:t,icon:n,className:o,borderClassName:s,themeType:a,borderStyle:c,rightIcon:u}=e;return(0,i.jsxs)(l.nI,{className:(0,r.Z)("gap-1 px-2 py-1 text-xs font-medium",o),borderClassName:s,themeType:a,borderStyle:c,children:[n,(0,i.jsx)("span",{children:t}),u]})}function s(e){let{label:t}=e;return(0,i.jsx)(o,{className:" text-[#0B0B0BA8]",borderStyle:{borderColor:"#E0E0E0",backgroundColor:"#F6F6F6"},label:t,themeType:"gray"})}},72316:function(e,t,n){"use strict";n.d(t,{R:function(){return s}});var i=n(27573),r=n(19616),l=n(70020);let o={air_economy:"blue200",air_express:"yellow",ocean:"gray",standard:"blue200",express:"yellow",free_economy:"gray",trucking:"blue",container_20:"gray",container_40:"gray",hc_container_40:"gray",hc_container_45:"gray"};function s(e){let{shippingMethod:t,countryCode:n}=e;return(0,i.jsx)(l.zc,{label:(0,r.gl)(t,n)||"--",themeType:o[t]||"blue200"})}},48466:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var i=n(27573),r=n(17379),l=n(2216);n(82296);var o=n(83807);function s(e){let{website:t="",text:n,needIcon:s=!0}=e,a=(0,r.T)("common");return t?(0,i.jsxs)(l.kC,{alignItems:"center",onMouseUp:e=>{e.stopPropagation(),e.preventDefault()},onClick:e=>{e.stopPropagation(),e.preventDefault(),window.open(t.startsWith("http")?t:"https://".concat(t),"_blank")},children:[(0,i.jsx)("div",{className:"max-w-full overflow-hidden",children:(0,i.jsx)(l.Qj,{needBottomBorder:!1,className:"mr-0.5 w-full",children:(0,i.jsx)("div",{className:"w-full overflow-hidden text-ellipsis whitespace-nowrap underline underline-offset-[3px]",children:n||a("click_here")})})}),s&&(0,i.jsx)(o.LinkShareIcon,{})]}):"--"}},12021:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var i=n(27573);n(48296),n(83807),n(51420),n(7653),n(11739);var r=n(70020);function l(e){let{name:t,startIcon:n,rightIcon:l,theme:o="blue200"}=e;return(0,i.jsx)(r.zc,{label:t,icon:n,themeType:o,rightIcon:l})}},9306:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var i=n(27573),r=n(4930);n(7653);var l=n(12021);let o={paid:"fulfill",voided:"gray50",unpaid:"reject"};function s(e){let{status:t,rightIcon:n}=e,s=(0,r.E)();return(0,i.jsx)(l.q,{name:s(t),theme:o[t]||"gray",startIcon:null,rightIcon:n})}},45943:function(e,t,n){"use strict";n.d(t,{rU:function(){return s}});var i=n(27573),r=n(17379),l=n(12021),o=n(72491);function s(e){var t,n;let{orderType:s,value:a,is_multi_product_order:c}=e,u=(0,r.T)("client_order_status"),d={production:o.dI,sample:o.Ut,multi:o.wN},m=null==d?void 0:d[c?"multi":"production"===s?"production":"stock_sample"===s||"custom_sample"===s?"sample":""];return(0,i.jsx)(l.q,{theme:null==m?void 0:null===(t=m[a])||void 0===t?void 0:t.theme,startIcon:null==m?void 0:null===(n=m[a])||void 0===n?void 0:n.icon,name:u(a)})}},80657:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var i=n(27573),r=n(70986),l=n(12021),o=n(72491);function s(e){let{status:t=""}=e,n=o.kG[t];return(0,i.jsx)(l.q,{name:(0,r.yh)(t),theme:null==n?void 0:n.theme,startIcon:null==n?void 0:n.icon})}},46882:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var i=n(27573),r=n(17379),l=n(12021),o=n(72491);function s(e){var t,n;let{statusKey:s}=e,a=(0,r.T)("project_statuses");return(0,i.jsx)(l.q,{theme:null===(t=o.t0[s])||void 0===t?void 0:t.theme,startIcon:null===(n=o.t0[s])||void 0===n?void 0:n.icon,name:a(s)})}},5308:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var i=n(27573),r=n(73143),l=n(12021);let o={exception:"reject",delivered:"fulfill"};function s(e){let{status:t}=e,n=(0,r.S)();return(0,i.jsx)(l.q,{name:n(t),theme:o[t]||"gray",startIcon:null})}},72491:function(e,t,n){"use strict";n.d(t,{Bg:function(){return o},Ut:function(){return c},dI:function(){return a},eY:function(){return m},kG:function(){return p},kK:function(){return l},qm:function(){return s},t0:function(){return d},wN:function(){return u}});var i=n(27573);n(7653);var r=n(2216);let l=["awaiting_client_payment_production","awaiting_client_deposit_payment","awaiting_factory_confirmation","in_production","client_remainder_received","production_ready_for_shipping","production_shipped","production_delivered","delivery_exception","production_rework","canceled"],o=["awaiting_client_payment","awaiting_factory_confirmation","in_production","sample_ready_for_shipping","sample_shipped","sample_delivered","delivery_exception","sample_rework","canceled","production_completed"],s=["awaiting_client_payment","in_production","ready_for_shipping","partially_shipped","fully_shipped","delivery_exception","partially_delivered","fully_delivered","production_completed","canceled"],a={awaiting_client_payment_production:{theme:"reject"},awaiting_client_deposit_payment:{theme:"reject"},awaiting_factory_confirmation:{theme:"blue200"},in_production:{theme:"blue200"},client_remainder_received:{theme:"blue200"},production_ready_for_shipping:{theme:"blue200"},production_shipped:{theme:"fulfill"},production_delivered:{theme:"fulfill"},delivery_exception:{theme:"reject"},production_rework:{theme:"yellow"},canceled:{theme:"gray50"}},c={awaiting_client_payment:{theme:"reject"},awaiting_factory_confirmation:{theme:"blue200"},in_production:{theme:"blue200"},sample_ready_for_shipping:{theme:"blue200"},sample_shipped:{theme:"fulfill"},sample_delivered:{theme:"fulfill"},delivery_exception:{theme:"reject"},sample_rework:{theme:"yellow"},production_completed:{theme:"fulfill"},canceled:{theme:"gray50"}},u={awaiting_client_payment:{theme:"reject"},awaiting_client_deposit_payment:{theme:"reject"},awaiting_factory_confirmation:{theme:"blue200"},in_production:{theme:"blue200"},ready_for_shipping:{theme:"blue200"},partially_shipped:{theme:"blue200"},fully_shipped:{theme:"fulfill"},delivery_exception:{theme:"reject"},partially_delivered:{theme:"blue200"},fully_delivered:{theme:"fulfill"},canceled:{theme:"gray50"},production_completed:{theme:"fulfill"}},d={project_received:{theme:"yellow"},project_accepted:{theme:"fulfill"},project_rejected:{theme:"reject"},quotation_started:{theme:"blue200"},quotation_sent_to_client:{theme:"blue200"},order_started:{theme:"gray"},order_shipped:{theme:"fulfill"},order_completed:{theme:"fulfill"},sample_po_started:{theme:"gray"},sample_po_shipped:{theme:"fulfill"},sample_po_completed:{theme:"fulfill"},mass_production_po_started:{theme:"gray"},mass_production_po_shipped:{theme:"fulfill"},mass_production_po_completed:{theme:"fulfill"},cancelled:{theme:"gray50"}},m=["project_received","project_accepted","project_rejected","quotation_started","quotation_sent_to_client","order_started","order_shipped","order_completed","cancelled"],p={pending_payment:{theme:"reject",icon:(0,i.jsx)(r.KA,{})},deposit_paid:{theme:"fulfill",icon:(0,i.jsx)(r.tq,{})},fully_paid:{theme:"fulfill",icon:(0,i.jsx)(r.cV,{})}}},70986:function(e,t,n){"use strict";n.d(t,{Wf:function(){return s},y_:function(){return l},yh:function(){return o},zz:function(){return r}});var i=n(47313);function r(e,t){var n;return(null===(n=e.find(e=>e.value===t))||void 0===n?void 0:n.name)||"--"}function l(e){var t;return(null===(t=i.Gu.find(t=>t.value===e))||void 0===t?void 0:t.name)||"--"}function o(e){var t;return(null===(t=i.Wz.find(t=>t.value===e))||void 0===t?void 0:t.name)||"--"}function s(e){return r(i.Cd,e)}},34055:function(e,t,n){"use strict";n.d(t,{HU:function(){return r},Pg:function(){return o},rn:function(){return s}});let i=["include_production_order","include_sample_order","include_shipment"];function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.values(e.reduce((e,t)=>{var n;let{dtype:i,percentage:r,method:l,conditions:o}=t.detail||{},s=Number(null===(n=t.amount)||void 0===n?void 0:n.amount)||0,a=function(e){let{dtype:t,method:n,conditions:i}=e.detail||{};if(!t)return"";let r=t;if(n&&(r+="-".concat(n)),i&&i.length>0){let e=[...i].sort().join("-");r+="-".concat(e)}return r}(t);return i&&s&&(e[a]||(e[a]={total:0,dtype:i,percentage:r,method:l,conditions:o}),e[a].total+=s),e},{}))}let l={include_sample_order:"Sample",include_production_order:"Production",include_shipment:"Shipping"};function o(e){if(!e)return"(Samples and shipping excluded)";let t=i.filter(t=>!e.includes(t));return 0===t.length?"":1===t.length?"(".concat(l[t[0]]," excluded)"):2===t.length?"(".concat(l[t[0]]," and ").concat(l[t[1]].toLowerCase()," excluded)"):t.length>2?"("+t.map((e,n)=>{let i=l[e];return(0!==n&&(i=i.toLowerCase()),n===t.length-1)?"and ".concat(i):n===t.length-2?"".concat(i," "):"".concat(i,", ")}).join("")+" excluded)":""}function s(e){return"percentage"===e.method||e.percentage&&Number(e.percentage)>0?"-".concat(e.percentage,"% off"):null}},33244:function(e,t,n){"use strict";n.d(t,{B_:function(){return m},Cd:function(){return v},GD:function(){return g},JL:function(){return h},Jn:function(){return x},Lr:function(){return j},Xf:function(){return o},Zp:function(){return d},ec:function(){return f},lO:function(){return c},p6:function(){return p},wW:function(){return u},zO:function(){return a}});var i=n(70986),r=n(36778),l=n(60052);function o(e,t,n){let i=[Number(e)?"".concat(e):"",Number(t)?"".concat(t):"",Number(n)?"".concat(n):""].filter(e=>e).join(" x ");return i?"".concat(i," in"):""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e||"--"==e)return t;let n="".concat(e);return(null==n?void 0:n.includes("lb"))?n:Number(e)?"".concat(e," lb"):t}function a(e,t){if(!e)return null;let{color_type:n,length:r,width:a,height:c,packaging_height:u,packaging_length:d,packaging_width:m,unit_weight_with_packaging:p,unit_weight_without_packaging:f}=h(e,{defaultUnit:{sizeUnit:l.xg.CM,weightUnit:l._b.KG},targetUnit:{sizeUnit:l.xg.IN,weightUnit:l._b.LB}});return{...e,color_type:(0,i.Wf)(n),dimension:o(r,a,c),unit_weight_without_packaging:"".concat(s(f)),unit_weight_with_packaging:"".concat(s(p)),packaging_dimension:"".concat(o(d,m,u)),...t}}function c(e,t){if(!e)return null;let{color_type:n,length:r,width:a,height:c,packaging_height:u,packaging_length:d,packaging_width:m,unit_weight_with_packaging:p,unit_weight_without_packaging:f}=h(e,{defaultUnit:{sizeUnit:l.xg.IN,weightUnit:l._b.LB},targetUnit:{sizeUnit:l.xg.IN,weightUnit:l._b.LB}});return{...e,color_type:(0,i.Wf)(n),dimension:o(r,a,c),unit_weight_without_packaging:"".concat(s(f,"")),unit_weight_with_packaging:"".concat(s(p,"")),packaging_dimension:"".concat(o(d,m,u)),...t}}function u(e){if(!e)return;let t={};return Object.keys(e).forEach(n=>{var i;t[n]=null!==(i=e[n])&&void 0!==i?i:void 0}),t}function d(e){if(!e)return e;let t={};return Object.keys(e).forEach(n=>{(e[n]||0===e[n])&&(t[n]=e[n])}),t}function m(e,t){let n=new Date(e),i={year:"numeric",month:"short",day:"numeric"};return t||(i={...i,hour:"2-digit",minute:"2-digit",hour12:!0}),n.toLocaleDateString("en-US",i).replace("PM","pm").replace("AM","am")}function p(e){let t=new Date(e),n=t.getDate(),i=t.toLocaleString("en-US",{month:"long"}),r=t.getFullYear();return"".concat(i," ").concat(n,", ").concat(r)}function f(e){return new r.Z(e||"0")}function h(e,t){if(!e)return{};let{defaultUnit:n,targetUnit:i}=t,{length:r,width:o,height:s,packaging_height:a,packaging_length:c,packaging_width:u,unit_weight_without_packaging:d,unit_weight_with_packaging:m,weight_unit:p,length_unit:f,...h}=e,x={length:r,width:o,height:s,packaging_height:a,packaging_length:c,packaging_width:u},g={unit_weight_without_packaging:d,unit_weight_with_packaging:m};return{...Object.keys(x).reduce((e,t)=>(e[t]=(0,l.BI)({value:x[t],unit:f||n.sizeUnit},i.sizeUnit),e),{...x}),...Object.keys(g).reduce((e,t)=>(e[t]=(0,l.Kk)({value:g[t],unit:p||n.weightUnit},i.weightUnit),e),{...g}),weight_unit:i.weightUnit,length_unit:i.sizeUnit,...h}}function x(e){return"".concat((null==e?void 0:e.address_detail)||"--",", ").concat((null==e?void 0:e.address_detail_2)?(null==e?void 0:e.address_detail_2)+", ":""," ").concat((null==e?void 0:e.city_name)||"--",", ").concat((null==e?void 0:e.state_name)||"--",", ").concat((null==e?void 0:e.zip_code)||"--",", ").concat((null==e?void 0:e.country_name)||"--")}function g(e){if(!e||isNaN(Number(e)))return"--";let t=Number(e)/7,n=t>1?Math.ceil((t-1e-6)*2)/2:Math.max(1,t),i=n%1==0?n.toFixed(0):n.toFixed(1);return"".concat(i," week").concat(1!==n?"s":"")}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null==e?void 0:e.length)?e.map(e=>"".concat(e.value.toLocaleUpperCase(),"-").concat(e.quantity)).join(", "):t}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--";if(!e||!e.value)return t;let{value:n,unit:i}=e,r=(0,l.sH)(n);if(i===l._b.LB){let e=(0,l.AH)(n);return"".concat(r," lb / ").concat(e," kg")}let o=(0,l.cM)(n);return"".concat(o," lb / ").concat(r," kg")}},78829:function(e,t,n){"use strict";n.d(t,{B_:function(){return r.B_},Cd:function(){return r.Cd},Fs:function(){return o},GD:function(){return r.GD},HY:function(){return l},JL:function(){return r.JL},Jn:function(){return r.Jn},KF:function(){return s},Lr:function(){return r.Lr},Xf:function(){return r.Xf},Zp:function(){return r.Zp},ec:function(){return r.ec},lO:function(){return r.lO},p6:function(){return r.p6},wW:function(){return r.wW},zO:function(){return r.zO}});var i=n(30065);n(47313);var r=n(33244);function l(e){let{order_type:t,is_custom_design:n,source_from:i="catalog"}=e;return"custom"===i?t:"custom_sample"===t?n?"custom_sample":"stock_sample":t}function o(e){let{product_type:t,is_custom_design:n,isCataLog:i}=e;return i&&"custom_sample"===t?n?"custom_sample":"stock_sample":t}function s(e){return(null==e?void 0:e.toUpperCase())===i.Zh}},73362:function(e,t,n){"use strict";n.d(t,{Fb:function(){return v},RC:function(){return c},YS:function(){return k},Yb:function(){return o},aX:function(){return a},c$:function(){return l},kw:function(){return _}});var i=n(33244);let r=["blank_product"],l=["duty"],o=["vat_gst"],s=["tariff"],a=["sales_tax"],c=["shipment"],u=["additional_shipping_price"],d=["us_local_shipping_fee"];function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>![...a,...c,...s].includes(e.type))}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>l.includes(e.type))}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>o.includes(e.type))}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>[...l,...o].includes(e.type))}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>![...a,...c,...s,...l,...o].includes(e.type))}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>c.includes(e.type))}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>a.includes(e.type))}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>s.includes(e.type))}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>![...a,...s].includes(e.type))}function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>!a.includes(e.type))}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>r.includes(e.type))}function b(e){return e.reduce((e,t)=>(0,i.ec)(e).plus((0,i.ec)(t.unit_price.amount||0).times(t.quantity||0)).toNumber(),0)}function C(e){return e.reduce((e,t)=>(0,i.ec)(e).plus((0,i.ec)(t.unit_price.amount||0)).toNumber(),0)}let k={sum:function(e){return e?null==e?void 0:e.reduce((e,t)=>(0,i.ec)(e).plus((0,i.ec)(t||0)).toNumber(),0):0},getProductPriceItems:m,sumProductPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(m(e))},sumProductUnitPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return C(m(e))},getProductExcludeVATDutyPriceItems:x,sumProductExcludeDutyPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(x(e))},sumProductExcludeVATDutyUnitPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return C(x(e))},getShippingPriceItems:g,sumShippingPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(g(e))},getShippingAdditionalFeePriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return g(e).filter(e=>u.includes(e.name))},getShippingExcludeAdditionalFeePriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return g(e).filter(e=>!u.includes(e.name))},getShippingExcludeAdditionalFeeAndUsLocalPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return g(e).filter(e=>![...u,...d].includes(e.name))},getSalesTaxPriceItems:v,sumSalesTaxPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(v(e))},getTariffPriceItems:j,sumTariffPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(j(e))},getProductAndShippingPriceItems:y,sumProductAndShippingUnitPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return C(y(e))},sumProductAndShippingExcludeAdditionalFeeUnitPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return C(y(e).filter(e=>!u.includes(e.name)))},sumProductAndShippingExcludeAdditionalFeeAndUsLocalUnitPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return C(y(e).filter(e=>![...u,...d].includes(e.name)))},sumProductAndShippingPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(y(e))},sumPriceItems:b,sumUnitPriceItems:C,getExcludeSaleTaxPriceItems:_,sumExcludeSaleTaxPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(_(e))},getBlankPriceItems:w,sumBlankPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(w(e))},getVATDutyPriceItems:h,sumVATDutyPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(h(e))},sumDiscount:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>(0,i.ec)(e).plus((0,i.ec)(t.amount.amount||0)).toNumber(),0)},getDutyPriceItems:p,sumDutyPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(p(e))},getVATPriceItems:f,sumVATPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return b(f(e))},sortPriceItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e=>c.includes(e)?2:[...o,...l,...s].includes(e)?3:a.includes(e)?4:1;return e.sort((e,n)=>t(e.type)-t(n.type))}}},4930:function(e,t,n){"use strict";n.d(t,{E:function(){return o},g:function(){return l}});var i=n(70986),r=n(17379);function l(){let e=(0,r.T)("invoices_payments_status");return["paid","unpaid"].map(t=>({name:e(t),value:t}))}function o(){let e=l();return t=>(0,i.zz)(e,t)}},73143:function(e,t,n){"use strict";n.d(t,{S:function(){return o},o:function(){return l}});var i=n(70986),r=n(17379);function l(){let e=(0,r.T)("shipping_status");return["shipped","exception","delivered"].map(t=>({name:e(t),value:t}))}function o(){let e=l();return t=>(0,i.zz)(e,t)}},51420:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var i=n(7653);function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,n]=(0,i.useState)(e);return[t,()=>{n(e=>!e)}]}},11191:function(e,t,n){"use strict";n.d(t,{o7:function(){return h},fG:function(){return x},xS:function(){return g},iZ:function(){return y},vb:function(){return j},rA:function(){return v}});var i=n(16287);let r=async e=>(0,i.S6)("/client/addresses/address/create",e),l=async e=>(0,i.S6)("/client/addresses/address/update",e),o=async e=>(0,i.S6)("/client/addresses/address/set_as_default",e),s=async e=>(0,i.S6)("/client/addresses/address/delete",e);var a=n(47409);function c(){return i.ZP.get("/api/global/open_country_codes")}var u=n(74340),d=n(46575);let m="SWR_GET_COUNTRY_CODE",p="SWR_GET_ADDRESS_LIST",f=m;function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return f="".concat(m,"_").concat(e),(0,d.ZP)(f,e?()=>(function(e){let t="/client/addresses/country_code?".concat((0,a.FJ)({country_name:e}));return i.ZP.get(t).then(e=>e.data)})(e):null)}function x(){return(0,d.ZP)(m,c)}function g(){return(0,u.d)(p,r)}function v(){return(0,u.d)(p,l)}function j(){return(0,u.d)(p,o)}function y(){return(0,u.d)(p,s)}},71517:function(e,t,n){"use strict";n.d(t,{TR:function(){return l}});var i=n(98582),r=n(74340);function l(){return(0,r.d)("SWR_POST_CHAT_MESSAGE_INTERACT",i.gn)}n(46575),n(47409)},60202:function(e,t,n){"use strict";n.d(t,{Bg:function(){return h},GN:function(){return v},I3:function(){return j},ZP:function(){return x},fZ:function(){return y},l3:function(){return g}});var i=n(74340),r=n(46575),l=n(1866),o=n(34507),s=n(17379),a=n(49784),c=n(43835),u=n(47409);let d="SWR_GET_INVOICES_ORDERS_LIST",m="SWR_GET_INVOICES_ORDERS_DETAIL",p=d,f=m;function h(e){return p="".concat(d,"_").concat((0,u.FJ)(e)),(0,r.ZP)(p,()=>(0,o.wc)(e))}function x(e){return f="".concat(m,"_").concat(e||""),(0,c.Z)(f,e?()=>(0,o.z8)(e):null,{revalidateOnFocus:!0})}function g(e){return f="".concat(m,"_").concat(e),(0,c.Z)(f,e?()=>(0,o.kS)(e):null,{revalidateOnFocus:!0,revalidateOnMount:!0})}function v(e){return f="".concat("GET_PRICEITEMS_BY_ORDER_IDS","_").concat(e.join("_")),(0,c.Z)(f,e?()=>(0,l.R5)(e):null,{revalidateOnFocus:!0,revalidateOnMount:!0})}function j(){let{mutate:e}=(0,r.kY)(),t=(0,s.T)("common"),n=(0,i.d)(f,o.Xd);return{...n,trigger:async i=>{try{let r=await n.trigger(i);return(null==r?void 0:r.code)===0?(await e(e=>"string"==typeof e&&e.startsWith(m)),a.ZP.success(t("successful"))):a.ZP.error((null==r?void 0:r.error)||(null==r?void 0:r.message)||"Failed to add payment"),r}catch(e){throw a.ZP.error((null==e?void 0:e.message)||"Failed to add payment"),e}}}}function y(){return(0,i.d)(f,o.Cg)}},99268:function(e,t,n){"use strict";function i(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",i=t.length;e=e||10;for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*i));return n}function r(e){let{x:t,y:n,width:i,height:r,rotation:l}=e,o=Math.PI/180*l,s={x:t+i*Math.cos(o),y:n+i*Math.sin(o)},a={x:s.x-r*Math.sin(o),y:s.y+r*Math.cos(o)},c={x:t-r*Math.sin(o),y:n+r*Math.cos(o)},u={x:((t+s.x)/2+(a.x+c.x)/2)/2,y:((n+s.y)/2+(a.y+c.y)/2)/2};return[{x:t,y:n},s,a,c,u]}function l(e,t){return new Promise((n,i)=>{let{x:r,y:l,width:o,height:s,format:a="image/png",quality:c=1,scale:u=1,onError:d}=t,m=new Image;m.crossOrigin="Anonymous",m.onload=()=>{try{let e=document.createElement("canvas");e.width=o*u,e.height=s*u;let t=e.getContext("2d");if(!t){let e=Error("æ— æ³•èŽ·å– 2D ä¸Šä¸‹æ–‡");null==d||d(e),i(e);return}t.drawImage(m,r,l,o,s,0,0,o*u,s*u);let p=e.toDataURL(a,c);e.toBlob(e=>{n({dataURL:p,blob:e})},a,c)}catch(t){let e=t instanceof Error?t:Error("æœªçŸ¥é”™è¯¯");null==d||d(e),i(e)}},m.onerror=()=>{let e=Error("å›¾ç‰‡åŠ è½½å¤±è´¥");null==d||d(e),i(e)},m.src=e})}function o(e,t,n){let{x:i,y:r,width:l,height:o}=t;if(!l||!o)return;let[s,a,c,u]=Array.isArray(n)?n||[0,0,0,0]:[,,,,].fill(Math.min(Number(n)||0,Math.min(l,o)/2));e.beginPath(),e.moveTo(i+s,r),e.arcTo(i+l,r,i+l,r+o,a),e.arcTo(i+l,r+o,i,r+o,c),e.arcTo(i,r+o,i,r,u),e.arcTo(i,r,i+l,r,s),e.closePath(),e.clip()}n.d(t,{E0:function(){return o},Jq:function(){return r},Vj:function(){return i},gm:function(){return l}})},8753:function(e,t,n){"use strict";n.d(t,{CU:function(){return i},NP:function(){return u},h6:function(){return d},o8:function(){return r},oe:function(){return m},wg:function(){return c}});let i=["login","register"],r=["invoice-group","order-group","shipment-group","project-group","project-confirm","product-confirm","product-summary","project-summary","spu-group","update-account","brand-selector","tip","tip-button"],l=["option","website-item","brand","brand-color","image-item"],o=["button"],s=["tip","tip-button"],a=["spu"],c=["project-confirm","product-confirm","project-summary","product-summary"],u=Array.from(new Set([...[...l,...s,...a,...c,...o].map(e=>e.replace(/-/g,"")),...l,...s,...a,...c,...o])),d=9,m=6},96379:function(e,t,n){"use strict";n.d(t,{Fj:function(){return i.Fj},fK:function(){return i.fK},wv:function(){return i.wv},zb:function(){return i.zb}});var i=n(87239)},87239:function(e,t,n){"use strict";n.d(t,{aV:function(){return g},zb:function(){return r},wv:function(){return c},Fj:function(){return u},fK:function(){return f}});let i=["node_type","children","innerContent","content"];function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=Object.entries(e).filter(e=>{let[n]=e;return!t.includes(n)}).map(e=>{let[t,n]=e;return"".concat(t,'="').concat(n,'"')}).join(" "),r={option:"Option","website-item":"WebsiteItem",brand:"Brand","brand-color":"BrandColor","image-item":"ImageItem"}[e.node_type];return r?"<".concat(r).concat(n?" ".concat(n):"",">").concat((null==e?void 0:e.innerContent)||"","</").concat(r,">"):"<".concat(e.node_type).concat(n?" ".concat(n):"",">").concat(e.content||"","</").concat(e.node_type,">")}let l=["p","br","strong","b","em","i","u","s","del","ins","h1","h2","h3","h4","h5","h6","ul","ol","li","a","blockquote","cite","code","pre","table","thead","tbody","tr","td","th","hr","div","span"],o=["href","target","rel","title","alt","class","id","style","width","height","align","valign"],s=["script","object","embed","applet","form","input","button","iframe","frame","frameset","noframes","noscript","xmp","listing","plaintext"],a=["onerror","onload","onclick","onmouseover","onfocus","onblur","onchange","onsubmit","onreset","onselect","onunload","onabort","onbeforeunload","onhashchange","onmessage","onoffline","ononline","onpagehide","onpageshow","onpopstate","onresize","onstorage","oncontextmenu","onkeydown","onkeypress","onkeyup","onmousedown","onmousemove","onmouseout","onmouseup","onwheel"];function c(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!n)return"".concat(e).concat((null==t?void 0:t.map(e=>'<File id="'.concat(e.id,'" mime_type="').concat(e.mime_type,'" name="').concat(e.filename,'" />')).join(""))||"");let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&"string"==typeof e&&[/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,/javascript:/gi,/on\w+\s*=/gi,/<iframe\b/gi,/<object\b/gi,/<embed\b/gi,/<applet\b/gi,/expression\s*\(/gi,/&#x3C;script/gi,/&#60;script/gi,/vbscript:/gi,/data:text\/html/gi].some(t=>t.test(e))&&console.warn("Detected potentially dangerous content in message, sanitizing..."),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"string"!=typeof e)return"";let{allowAllTags:n=!1,allowStyles:i=!0,allowLinks:r=!0,allowTables:c=!0,allowImages:u=!1,allowCode:d=!1,strict:m=!1}=t;try{let t=document.createElement("div");t.innerHTML=e;let p=n?void 0:[...l],f=[...o];i||(f=f.filter(e=>"style"!==e)),r||(p=null==p?void 0:p.filter(e=>"a"!==e),f=f.filter(e=>!["href","target","rel"].includes(e))),c||(p=null==p?void 0:p.filter(e=>!["table","thead","tbody","tr","td","th"].includes(e))),u||(p=null==p?void 0:p.filter(e=>"img"!==e),f=f.filter(e=>"src"!==e)),d||(p=null==p?void 0:p.filter(e=>!["code","pre"].includes(e))),m&&(p=["p","br","strong","b","em","i","u","s","del","ins","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","cite","code","pre","hr","div","span"],f=["class","id"]);let h=e=>{if(e.nodeType===Node.ELEMENT_NODE){let t=e.tagName.toLowerCase();if(p&&!p.includes(t)){let t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e);return}}if(s.includes(t)){let t=e.parentNode;if(t){t.removeChild(e);return}}Array.from(e.attributes).forEach(t=>{let n=t.name.toLowerCase();if(!f.includes(n)||a.includes(n)){e.removeAttribute(n);return}let i=t.value.toLowerCase();if("href"===n&&(i.startsWith("javascript:")||i.startsWith("data:text/html"))||"src"===n&&(i.startsWith("javascript:")||i.startsWith("data:text/html"))){e.removeAttribute(n);return}}),Array.from(e.childNodes).forEach(e=>h(e))}};return Array.from(t.childNodes).forEach(e=>h(e)),t.innerHTML}catch(n){return console.warn("HTML sanitization failed, falling back to regex-based cleaning:",n),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,{allowStyles:i=!0,allowLinks:r=!0,allowTables:l=!0,allowImages:o=!1,allowCode:s=!0,strict:a=!1}=t;if(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<script\b[^>]*\/?>/gi,"")).replace(/\s+on\w+\s*=\s*["'][^"']*["']/gi,"")).replace(/\s+on\w+\s*=\s*[^>]*/gi,"")).replace(/javascript:\s*[^"'\s>]*/gi,"")).replace(/vbscript:\s*[^"'\s>]*/gi,"")).replace(/data:text\/html[^"'\s>]*/gi,"")).replace(/href\s*=\s*["'][^"']*javascript:[^"']*["']/gi,"")).replace(/href\s*=\s*["'][^"']*vbscript:[^"']*["']/gi,"")).replace(/href\s*=\s*["'][^"']*data:text\/html[^"']*["']/gi,""),["iframe","object","embed","applet","form","input","button","noscript"].forEach(e=>{n=(n=n.replace(RegExp("<".concat(e,"\\b[^<]*(?:(?!<\\/").concat(e,">)<[^<]*)*<\\/").concat(e,">"),"gi"),"")).replace(RegExp("<".concat(e,"\\b[^>]*\\/?>"),"gi"),"")}),r||(n=(n=n.replace(/\s+href\s*=\s*["'][^"']*["']/gi,"")).replace(/\s+href\s*=\s*[^"'\s>]+/gi,"")),l||["table","thead","tbody","tr","td","th"].forEach(e=>{n=(n=n.replace(RegExp("<".concat(e,"\\b[^<]*(?:(?!<\\/").concat(e,">)<[^<]*)*<\\/").concat(e,">"),"gi"),"")).replace(RegExp("<".concat(e,"\\b[^>]*\\/?>"),"gi"),"")}),o||(n=n.replace(/<img\b[^>]*\/?>/gi,"")),s||(n=(n=(n=(n=n.replace(/<code\b[^<]*(?:(?!<\/code>)<[^<]*)*<\/code>/gi,"")).replace(/<pre\b[^<]*(?:(?!<\/pre>)<[^<]*)*<\/pre>/gi,"")).replace(/<code\b[^>]*\/?>/gi,"")).replace(/<pre\b[^>]*\/?>/gi,"")),i||(n=n.replace(/\s*style\s*=\s*["'][^"']*["']/gi,"")),a){let e=["p","br","strong","b","em","i","u","s","del","ins","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","cite","code","pre","hr","div","span"];(n.match(/<(\/?)([a-zA-Z][a-zA-Z0-9]*)\b[^>]*>/g)||[]).forEach(t=>{var i,r;let l=null==t?void 0:null===(r=t.match(/<(\/?)([a-zA-Z][a-zA-Z0-9]*)/))||void 0===r?void 0:null===(i=r[2])||void 0===i?void 0:i.toLowerCase();if(l&&!e.includes(l)){let e=RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");n=n.replace(e,"")}}),n=(n=(n=(n=n.replace(/<a\b[^<]*(?:(?!<\/a>)<[^<]*)*<\/a>/gi,"")).replace(/<a\b[^>]*\/?>/gi,"")).replace(/<a\b[^>]*>.*?<\/a>/gi,"")).replace(/\s+/g," ")}return a&&(n=n.replace(/\s+(?!class|id)[a-zA-Z-]+\s*=\s*["'][^"']*["']/gi,"")),n}(e,t)}}(e,t)}(e,{allowStyles:!0,allowLinks:!1,allowTables:!0,allowCode:!1,allowImages:!0,allowAllTags:!1,strict:!0});return"".concat(i).concat((null==t?void 0:t.map(e=>'<File id="'.concat(e.id,'" mime_type="').concat(e.mime_type,'" name="').concat(e.filename,'" />')).join(""))||"")}function u(e){return null==e?void 0:e.includes("<Ghost>")}var d=n(72460),m=n(8753),p=n(86866);function f(e){let{message:t,defaultTextType:n="text",isAutoAddTip:i=!0}=e,r=(0,p.S)(t),l=(0,d.p)(t,r?"text":n);if(0===l.length)return[];let o=[],s=[],a=new Set,c=0,u=!1,f=!1;for(let e of l){if("spu-group"===e.node_type){var h,x;null==e||null===(h=e.children)||void 0===h||h.forEach(e=>{"spu"===e.node_type&&a.add(e.category||"")}),c+=(null==e?void 0:null===(x=e.children)||void 0===x?void 0:x.filter(e=>"spu"===e.node_type).length)||0}m.o8.includes(e.node_type)?(s.length>0&&(o.push(s),s=[]),o.push([e])):s.push(e),"brand-selector"===e.node_type&&(u=!0),m.wg.includes(e.node_type)&&(f=!0)}if(s.length>0&&o.push(s),!i)return o;if(c>=0&&(a.size>0?o.push([{node_type:"tip-button",innerContent:"Explore more product ideas"}]):a.forEach(e=>{o.push([{node_type:"tip-button",innerContent:"Show me different ".concat(null==e?void 0:e.toLocaleLowerCase())}])})),c>0&&o.push([{node_type:"tip-button",innerContent:"Make something fully custom"}]),u){let e=o.findIndex(e=>e.some(e=>"brand-selector"===e.node_type));o.splice(e,0,[{node_type:"text",content:"Hereâ€™s what I found. Select the logos or symbols youâ€™d like to use â€“ or, if none feel right, you can upload a different design."}]),o.push([{node_type:"tip-upload",innerContent:"Upload a different design",accept:".jpg,.jpeg,.png,.svg"}])}return f&&(o.push([{node_type:"tip-button",innerContent:"Confirm and submit project"}]),o.push([{node_type:"tip-button",innerContent:"Edit project"}])),o}let h=RegExp("(?<![\"'=])(https?:\\/\\/|ftp:\\/\\/)[^\\s<>\\[\\]{}|\\\\^`\"']+|(?<![\"'=\\/])\\b(www\\.)[^\\s<>\\[\\]{}|\\\\^`\"']+","gi");function x(e){return!e||"string"!=typeof e||/<a\s+[^>]*href=/i.test(e)?e:e.replace(h,e=>{let t=e.startsWith("www.")?"https://".concat(e):e,n=e.replace(/[.,;:!?)]+$/,""),i=t.replace(/[.,;:!?)]+$/,""),r=e.slice(n.length);return'<a href="'.concat(i,'" rel="noopener noreferrer" target="_blank">').concat(n,"</a>").concat(r)})}function g(e){if(!e||"string"!=typeof e)return e;if("undefined"!=typeof document){let t=document.createElement("textarea");return t.innerHTML=e,x(t.value)}let t=e,n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&apos;":"'","&nbsp;":" ","&copy;":"\xa9","&reg;":"\xae","&trade;":"â„¢","&hellip;":"â€¦","&mdash;":"â€”","&ndash;":"â€“","&lsquo;":"'","&rsquo;":"'","&ldquo;":'"',"&rdquo;":'"',"&bull;":"â€¢","&deg;":"\xb0","&frac12;":"\xbd","&frac14;":"\xbc","&frac34;":"\xbe"};return Object.keys(n).sort((e,t)=>t.length-e.length).forEach(e=>{t=t.replace(RegExp(e,"g"),n[e])}),t=x(t=(t=t.replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(parseInt(t,10)))).replace(/&#x([0-9a-fA-F]+);/g,(e,t)=>String.fromCharCode(parseInt(t,16))))}},86866:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var i=n(8753);function r(e){return i.CU.some(t=>{let n=t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("");return RegExp("<".concat(n,"\\s*\\/?>|<").concat(n,">[\\s\\S]*?<\\/").concat(n,">"),"i").test(e)})}},72460:function(e,t,n){"use strict";n.d(t,{p:function(){return function e(t){var n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",l=null==t?void 0:null===(n=t.trim)||void 0===n?void 0:n.call(t);if(!l)return[];let c=[],u=0;for(;u<l.length;){let t=l.indexOf("<",u);if(-1===t){let e=l.slice(u).trim();e&&c.push(a(e,r));break}if(t>u){let e=l.slice(u,t).trim();e&&c.push(a(e,r))}let n=function(e,t){let n=e.indexOf(">",t);if(-1===n)return null;let i=e.slice(t+1,n),r=i.endsWith("/"),l=r?i.slice(0,-1).trim():i.trim(),o=l.indexOf(" "),s=-1===o?l:l.slice(0,o),a=-1===o?"":l.slice(o+1),c={};if(a){let e;let t=/(\w+)="([^"]*)"/g;for(;null!==(e=t.exec(a));)c[e[1]]=e[2]}return{tag:{tagName:s.toLowerCase(),attributes:c,selfClosing:r,startIndex:t,endIndex:n+1},endIndex:n+1}}(l,t);if(!n){c.push(a(l.slice(t,t+1),r)),u=t+1;continue}let{tag:d,endIndex:m}=n,p=function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",{tagName:l,attributes:c,selfClosing:u}=t;if(u){let e=s(l,c);return e?{node:e,endIndex:t.endIndex,defaultTextType:r}:null}let d=RegExp("</".concat(l,">"),"i"),m=n.slice(t.endIndex),p=d.exec(m);if(!p){let e=s(l,c);return e?{node:e,endIndex:t.endIndex,defaultTextType:r}:null}let f=m.slice(0,p.index).trim();if("markdown"===l)return{node:{node_type:"markdown",innerHtml:String(o(f||""))},endIndex:t.endIndex+p.index+p[0].length,defaultTextType:r};if("richtext"===l)return{node:{node_type:"rich-text",innerHtml:f||""},endIndex:t.endIndex+p.index+p[0].length,defaultTextType:r};let h=s(l,c);if(!h)return null;if(i.NP.includes(l)&&i.NP.includes(h.node_type)&&(h.innerContent=f),f){if(f.includes("<")){let t=e(f,r);h.children=t}else h.children=[a(f,r)]}return{node:h,endIndex:t.endIndex+p.index+p[0].length,defaultTextType:r}}(d,l,r);p?(c.push(p.node),u=p.endIndex):u=m}return c}}});var i=n(8753),r=n(25664);let l=new r.TU.Renderer;function o(e){let t=r.TU.parse((null!=e?e:"").trim(),{renderer:l});return("string"==typeof t?t:String(t)).replace(/>\s+</g,"><").replace(/<p>\s*<\/p>/g,"").replace(/\n+$/,"")}function s(e,t){switch(e){case"image":return{node_type:"image",id:t.id||"",url:t.url||"",...t};case"file":return{node_type:"file",id:t.id||"",name:t.name||"",mime_type:t.mime_type||"",...t};case"colorpicker":return{node_type:"color-picker",...t};case"fileuploader":return{node_type:"file-uploader",...t};case"input":return{node_type:"input",...t};case"select":return{node_type:"select",children:[],...t};case"multiselector":return{node_type:"multi-selector",children:[],...t};case"option":return{node_type:"option",children:[],...t,innerContent:t.innerContent||t.content||""};case"spu":return{node_type:"spu",id:t.id||"",country_code:t.country_code||"",image_id:t.image_id||"",tag:t.tag||"",category:t.category||"",min_quantity:t.min_quantity||"",min_price:t.min_price,color:(null==t?void 0:t.color)||"",innerContent:t.innerContent||"",...t,views:(null==t?void 0:t.preview_image_total)?Array(Number(t.preview_image_total)||0).fill(0).map((e,t)=>t):[]};case"spugroup":var n;return{node_type:"spu-group",logo:t.logo||"",symbol:t.symbol||"",children:[],...t,brand_design_mode:(null===(n=t.brand_design_mode)||void 0===n?void 0:n.toLocaleLowerCase())==="true"};case"ordergroup":return{node_type:"order-group",children:[],...t};case"order":return{node_type:"order",id:t.id||"",...t};case"invoicegroup":return{node_type:"invoice-group",children:[],...t};case"invoice":return{node_type:"invoice",id:t.id||"",...t};case"projectgroup":return{node_type:"project-group",children:[],...t};case"project":return{node_type:"project",id:t.id||"",...t};case"projectconfirm":case"productconfirm":case"productsummary":case"projectsummary":return{node_type:"project-confirm",innerContent:t.innerContent||"",target_delivery_date:t.target_delivery_date||"",delivery_country:t.delivery_country||"",quantity_range:t.quantity_range||"",reference_image_ids:t.reference_image_ids||"",reference_link_url:t.reference_link_url||"",product_material:t.product_material||"",customization_method:t.customization_method||"",product_preference:t.product_preference||"",product_dimensions:t.product_dimensions||"",color:t.color||"",packaging:t.packaging||"",additional_report_requirement:t.additional_report_requirement||"",notes:t.notes||"",...t};case"websiteselector":return{node_type:"website-selector",...t};case"websiteitem":return{node_type:"website-item",icon:t.icon||"",url:t.url||"",innerContent:t.innerContent||"",...t};case"brandselector":return{node_type:"brand-selector",title:t.title||"",...t};case"brand":return{node_type:"brand",image_url:t.image_url||"",innerContent:t.innerContent||"",type:t.type||"",...t};case"brandcolor":return{node_type:"brand-color",innerContent:t.innerContent||"",...t};case"brandcolors":return{node_type:"brand-colors",...t};case"shipmentgroup":return{node_type:"shipment-group",children:[],...t};case"shipment":return{node_type:"shipment",id:t.id||"",...t};case"updateaccount":return{node_type:"update-account",...t};case"login":return{node_type:"login",...t};case"register":return{node_type:"register",...t};case"tip":return{node_type:"tip",innerContent:t.innerContent||"",...t};case"tipbutton":return{node_type:"tip-button",innerContent:t.innerContent||"",...t};case"tipupload":return{node_type:"tip-upload",innerContent:t.innerContent||"",accept:t.accept||"",...t};case"button":return{node_type:"button",innerContent:t.innerContent||"",...t};case"thinking":return{node_type:"thinking",...t,messages:t.messages?function(e,t){try{return JSON.parse(e)}catch(e){return}}(decodeURIComponent(t.messages)):[]};case"ghost":return{node_type:"ghost",...t};case"rating":return{node_type:"rating",...t};case"imageselect":return{node_type:"image-select",...t};case"imageitem":return{node_type:"image-item",url:t.url||"",image_id:t.image_id||"",type:t.type||"",innerContent:t.innerContent||"",...t};case"categorytreeselector":return{node_type:"category-tree-selector",...t};default:return null}}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return"text"===t?{node_type:"text",content:e}:{node_type:"markdown",innerHtml:String(o(e))}}l.link=function(e){let{href:t,title:n,tokens:i}=e,r=this.parser.parseInline(i);return'<a href="'.concat(t,'"').concat(n?' title="'.concat(n,'"'):"",' target="_blank" rel="noopener noreferrer">').concat(r,"</a>")}},12952:function(){},13068:function(e){e.exports={previewContainer:"PreviewContainer_previewContainer__weIpG",videoWrapper:"PreviewContainer_videoWrapper__ssoKv",playIcon:"PreviewContainer_playIcon___ocnw"}},65198:function(e,t){"use strict";t.Z={src:"/_next/static/media/placeholder.5a1cd4c2.png",height:600,width:600,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAABlBMVEXy9vrs8fYqE/zyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGElEQVR4nGNggABGKI3GYGREZ6CpYYQCAAH/ABRCtvDRAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},47013:function(e,t){"use strict";t.Z={src:"/_next/static/media/placeholder.fbb81e08.svg",height:81,width:117,blurWidth:0,blurHeight:0}}}]);